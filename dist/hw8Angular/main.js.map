{"version":3,"sources":["./src/app/components/mylist/mylist.component.html","./src/app/components/mylist/mylist.component.ts","./src/app/components/tv-detail/tv-detail.component.ts","./src/app/components/tv-detail/tv-detail.component.html","./src/environments/environment.ts","./src/app/components/footer/footer.component.ts","./src/app/components/footer/footer.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/movie-detail/movie-detail.component.ts","./src/app/components/movie-detail/movie-detail.component.html","./src/app/components/navbar/navbar.component.ts","./src/app/components/navbar/navbar.component.html","./src/app/components/homepage/homepage.component.ts","./src/app/components/homepage/homepage.component.html","./src/app/services/search.service.ts","./src/app/services/detailpage.service.ts","./src/app/app-routing.module.ts","./src/app/services/myliststorage.service.ts","./src/app/services/homepage.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n<body>\n\n  <div class=\"container\" style=\"min-height: 900px;\">\n    <div class=\"row\" *ngIf=\"watchlistArray === null || watchlistArray === undefined || watchlistArray.length == 0\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <h1 id=\"no_result_msg\" style=\"\" >\n          No items found in Watchlist.\n        </h1>\n      </div>\n    </div>\n\n    <div class=\"row\" *ngIf=\"!isMobile\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <div *ngIf=\"watchlistArray !== null && watchlistArray !== undefined && watchlistArray.length > 0\">\n          <h2 id=\"watchlist_header\">My WatchList</h2>\n          <div id=\"watchlist_card_container\">\n            <div id=\"watchlist_card\" class=\"col-sm-6 col-md-4 col-lg-2\"  *ngFor=\"let item of watchlistArray; index as j\">\n              <a routerLink=\"/watch/{{ item['cate'] }}/{{ item['id'] }}\">\n                <div class=\"picsum-img-wrapper_web\">\n                  <img [src]=\"item['url']\" alt=\"\">\n                  <div class=\"watchlist_card_title\">\n                    <p>{{ item[\"title\"] }}</p>\n                  </div>\n                </div>\n\n              </a>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n\n\n    <div class=\"row\" style=\"\" *ngIf=\"isMobile && watchlistArray !== null && watchlistArray !== undefined && watchlistArray.length > 0\">\n      <h2 id=\"watchlist_header_mobile\">My WatchList</h2>\n    </div>\n\n    <div *ngIf=\"isMobile && watchlistArray !== null && watchlistArray !== undefined && watchlistArray.length > 0\">\n    <div class=\"row\" *ngFor=\"let item of watchlistArray; index as j\" style=\"padding-bottom: 100px;\">\n        <div id=\"watchlist_card_container_mobile\">\n          <div id=\"watchlist_card_mobile\"  >\n            <a routerLink=\"/watch/{{ item['cate'] }}/{{ item['id'] }}\">\n              <div class=\"picsum-img-wrapper_mobile\">\n                <img [src]=\"item['url']\" alt=\"\">\n                <div class=\"watchlist_card_title_mobile\">\n                  <p>{{ item[\"title\"] }}</p>\n                </div>\n              </div>\n\n            </a>\n          </div>\n        </div>\n\n    </div>\n  </div>\n  </div>\n</body>\n","import { Component, OnInit } from '@angular/core';\nimport { MyliststorageService } from 'src/app/services/myliststorage.service';\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\nimport {HomepageService} from \"../../services/homepage.service\";\n\n@Component({\n  selector: 'app-mylist',\n  templateUrl: './mylist.component.html',\n  styleUrls: ['./mylist.component.css']\n})\nexport class MylistComponent implements OnInit {\n\n  constructor(public storageService : MyliststorageService, public breakpointObserver: BreakpointObserver) { }\n\n  public isMobile:boolean;\n  ngOnInit(): void {\n    // console.log(localStorage);\n\n    this.showWatchList();\n    if (this.breakpointObserver.isMatched('(max-width: 500px)')) {\n      console.log('The 900px viewport matched!');\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n  storageKeyArray = [];\n  public watchlistArray = [];\n  showWatchList() {\n    if (localStorage.length == 0) {\n      return;\n    }\n    this.storageKeyArray = Object.keys(localStorage);\n    for (let i = 0; i < this.storageKeyArray.length; i++) {\n      if (this.storageKeyArray[i].substr(1, 4) == \"list\") {\n        var keyString = this.storageKeyArray[i].substr(6).split(\"^\");\n        var valueString = localStorage.getItem(this.storageKeyArray[i]).split(\"^\");\n\n        var id = keyString[0];\n        var cate = keyString[1].replace('\"', '');\n        var title = valueString[0].replace('\"', '');\n        var url = valueString[1];\n        var timestamp = valueString[2].replace('\"', '');\n\n        this.watchlistArray.push({\n          \"id\": id,\n          \"cate\": cate,\n          \"title\": title,\n          \"url\": \"https://image.tmdb.org/t/p/w500\" + url,\n          \"timestamp\": timestamp\n        });\n      }\n    }\n    if (this.watchlistArray.length == 0) {\n      // document.getElementById(\"no_result_msg\").style.display = \"block\";\n      return;\n    }\n    this.watchlistArray.sort(function(a, b) {return b.timestamp - a.timestamp});\n    console.log(this.watchlistArray);\n    // check storage start with \"list\"\n\n    // document.getElementById(\"container\").style.display = \"block\";\n\n  }\n\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { DetailpageService } from 'src/app/services/detailpage.service';\nimport { MyliststorageService } from 'src/app/services/myliststorage.service';\nimport {NgbCarousel, NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport { Subject } from 'rxjs';\nimport {debounceTime, min} from \"rxjs/operators\";\nimport { NgbAlert } from \"@ng-bootstrap/ng-bootstrap\";\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\n\n\n@Component({\n  selector: 'app-tv-detail',\n  templateUrl: './tv-detail.component.html',\n  styleUrls: ['./tv-detail.component.css'],\n  styles: [`\n      .dark-modal .modal-content {\n        background-color: #292b2c;\n        color: white;\n      }\n      .dark-modal .close {\n        color: white;\n      }\n    `]\n})\nexport class TvDetailComponent implements OnInit {\n  public category: string;\n  public id: string;\n  public isMobile:boolean = false;\n\n  private _Added = new Subject<string>();\n  private _Removed = new Subject<string>();\n  successMessage = '';\n  public closed;\n  @ViewChild('selfClosingAlert', {static: false}) selfClosingAlert: NgbAlert;\n\n  paused = false;\n  unpauseOnArrow = false;\n  pauseOnIndicator = false;\n  pauseOnHover = true;\n  pauseOnFocus = true;\n  showNavigationIndicators = false;\n  @ViewChild('carousel', {static: true}) carousel: NgbCarousel;\n\n  constructor(private route : ActivatedRoute,\n              private detailPageService : DetailpageService,\n              private storageService : MyliststorageService,\n              private modalService: NgbModal,\n              public breakpointObserver: BreakpointObserver\n  ) { }\n\n  ngOnInit(): void {\n    this.category = \"tv\";\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.getTvVideo();\n    this.getTvDetail();\n    this.getTvCast();\n    this.getTvReviews();\n\n    this._Added.subscribe(message => this.successMessage = message);\n    this._Added.pipe(debounceTime(5000)).subscribe(() => {\n      // console.log(\"123123\");\n      if (this.selfClosingAlert) {\n        this.selfClosingAlert.close();\n      }\n    });\n    this._Removed.subscribe(message => this.successMessage = message);\n    this._Removed.pipe(debounceTime(5000)).subscribe(() => {\n      if (this.selfClosingAlert) {\n        this.selfClosingAlert.close();\n      }\n    });\n\n    this.getRecommendedTv();\n    this.getSimilarTv();\n\n    if (this.breakpointObserver.isMatched('(max-width: 500px)')) {\n      console.log('The 900px viewport matched!');\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n\n  public videoLink: string;\n\n  getTvVideo(): void {\n    this.detailPageService.getTvVideoService(this.id).subscribe((response) => {\n      console.log(response[\"results\"]);\n      var resultArray = response[\"results\"];\n      var trailer;\n      var teaser;\n      // var target;\n\n      for (var i = 0; i < resultArray.length; i++) {\n        if (resultArray[i][\"type\"] == \"Trailer\") {\n          trailer = resultArray[i];\n          break;\n        } else if (resultArray[i][\"type\"] == \"Teaser\") {\n          teaser = resultArray[i];\n        }\n      }\n      if (trailer !== undefined) {\n        this.videoLink = trailer[\"key\"];\n\n      } else if (trailer === undefined && trailer !== undefined) {\n        this.videoLink = teaser[\"key\"];\n      } else {\n        this.videoLink = \"tzkWB85ULJY\";\n      }\n      console.log(this.videoLink);\n    });\n  }\n\n  public detail = [];\n  public twitterContent = \"\";\n  getTvDetail(): void {\n    this.detailPageService.getTvDetailService(this.id).subscribe((response) => {\n      if (response[\"id\"] != this.id) {\n        // alert(\"tv detail id not match\");\n        return;\n      }\n      this.detail[\"title\"] = response[\"name\"];\n      this.detail[\"poster_path\"] = response[\"poster_path\"];\n      this.twitterContent += \"Watch\" + this.detail[\"title\"] + this.videoLink + \"#USC#CSCI571#FightOn\";\n\n      var genersArray = response[\"genres\"];\n      var str = \"\";\n      for (var i = 0; i < genersArray.length; i++) {\n        str += genersArray[i][\"name\"];\n        if (i != genersArray.length - 1) {\n          str += \", \";\n        }\n      }\n      this.detail[\"genres\"] = str;\n      str = null;\n\n\n      var langArray = response[\"spoken_languages\"];\n      var langStr = \"\";\n      for (var i = 0; i < langArray.length; i++) {\n        langStr += langArray[i][\"english_name\"];\n        if (i != langArray.length - 1) {\n          langStr += \", \";\n        }\n      }\n      this.detail[\"spoken_languages\"] = langStr;\n      langStr = null;\n\n\n      this.detail[\"release_date\"] = response[\"first_air_date\"].substr(0, 4);\n      var runtime = response[\"episode_run_time\"] ;\n      var mins = runtime % 60;\n      this.detail[\"minutes\"] = mins + \"mins\";\n      this.detail[\"hours\"] = (runtime - mins) / 60 + \"hrs\";\n\n      this.detail[\"overview\"] = response[\"overview\"];\n      this.detail[\"vote_average\"] = response[\"vote_average\"];\n      this.detail[\"tagline\"] = response[\"tagline\"];\n\n      console.log(this.detail);\n      this.checkStorageContains();\n    });\n  }\n\n  castArray = [];\n  getTvCast() {\n    this.detailPageService.getTvCastService(this.id).subscribe((response) => {\n\n      // console.log(this.castArray);\n      for (let i = 0; i < response[\"cast\"].length; i++) {\n        if (response[\"cast\"][i][\"profile_path\"] !== null) {\n          this.castArray.push({\n            \"id\": response[\"cast\"][i][\"id\"],\n            \"name\": response[\"cast\"][i][\"name\"],\n            \"character\": response[\"cast\"][i][\"character\"],\n            \"profile_path\": \"https://image.tmdb.org/t/p/w500/\" + response[\"cast\"][i][\"profile_path\"]\n          });\n        }\n      }\n    });\n  }\n\n  public castDetailsArray = [];\n  public castExternalArray = [];\n  getCastDetail(content, castId, profilePath) {\n    this.modalService.open(content, { size: 'lg' });\n\n    this.castDetailsArray = [];\n    this.castExternalArray = [];\n\n    this.castDetailsArray[\"profile_path\"] = profilePath;\n    this.detailPageService.getCastDetailService(castId).subscribe((response) => {\n      // console.log(response);\n      if (response[\"id\"] != castId) {\n        // alert(\"cast detail id not match\");\n        return;\n      }\n      if (response[\"birthday\"] !== null) {\n        this.castDetailsArray[\"birthday\"] = response[\"birthday\"];\n      }\n\n      if (response[\"gender\"] === 1) {\n        this.castDetailsArray[\"gender\"] = \"female\";\n      } else if (response[\"gender\"] === 2) {\n        this.castDetailsArray[\"gender\"] = \"male\";\n      } else if (response[\"gender\"] === 0) {\n        this.castDetailsArray[\"gender\"] = \"undefined\";\n      }\n      if (response[\"place_of_birth\"] !== null) {\n        this.castDetailsArray[\"place_of_birth\"] = response[\"place_of_birth\"];\n      }\n      if (response[\"name\"] !== null) {\n        this.castDetailsArray[\"name\"] = response[\"name\"];\n      }\n      if (response[\"homepage\"] !== null) {\n        this.castDetailsArray[\"homepage\"] = response[\"homepage\"];\n      }\n      if (response[\"also_known_as\"] !== null) {\n        this.castDetailsArray[\"also_known_as\"] = response[\"also_known_as\"];\n      }\n      if (response[\"known_for_department\"] !== null) {\n        this.castDetailsArray[\"known_for_department\"] = response[\"known_for_department\"];\n      }\n      if (response[\"biography\"] !== null) {\n        this.castDetailsArray[\"biography\"] = response[\"biography\"];\n      }\n\n\n    });\n    console.log(this.castDetailsArray);\n\n    this.detailPageService.getCastExternalIdService(castId).subscribe((response) => {\n      if (response[\"id\"] != castId) {\n        // alert(\"cast detail id not match\");\n        return;\n      }\n      if (response[\"imdb_id\"] !== null && response[\"imdb_id\"] !== undefined && response[\"imdb_id\"].length > 0) {\n        this.castExternalArray[\"imdb_id\"] = \"https://imdb.com/name/\" + response[\"imdb_id\"];\n      }\n      // console.log(this.castExternalArray[\"imdb_id\"]);\n      if (response[\"facebook_id\"] !== null && response[\"facebook_id\"] !== undefined && response[\"facebook_id\"].length > 0){\n        this.castExternalArray[\"facebook_id\"] = \"https://facebook.com/\" + response[\"facebook_id\"];\n      }\n      if (response[\"Instagram_id\"] !== null && response[\"Instagram_id\"] !== undefined && response[\"Instagram_id\"].length > 0) {\n        this.castExternalArray[\"Instagram_id\"] = \"https://instagram.com/\" + response[\"Instagram_id\"];\n      }\n      if (response[\"Twitter_id\"] !== null && response[\"Twitter_id\"] !== undefined && response[\"Twitter_id\"].length > 0) {\n        this.castExternalArray[\"Twitter_id\"] = \"https://twitter.com/\" + response[\"Twitter_id\"];\n      }\n\n    });\n    console.log(this.castExternalArray);\n  }\n\n  public reviewsArray = [];\n  getTvReviews() {\n    this.detailPageService.getTvReviewsService(this.id).subscribe((response) => {\n      if (response[\"id\"] != this.id) {\n        // alert(\"tv review results id not match\");\n        return;\n      }\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        console.log(\"review Array length: \" + this.reviewsArray.length);\n        return;\n      }\n      var results = response[\"results\"];\n      // console.log(results[0][\"author\"]);\n      for (var count = 0; count < Math.min(10, results.length); count ++) {\n        this.reviewsArray[count] = {\n          \"author\" : results[count][\"author\"]\n        };\n        this.reviewsArray[count][\"content\"] = results[count][\"content\"];\n\n        var time = results[count][\"created_at\"];\n\n        var month = time.substr(5,2);\n        var monthString;\n        enum monthIndicator {\n          Jan = \"January\",\n          Feb = \"February\",\n          Mar = \"March\",\n          Apr = \"April\",\n          May = \"May\",\n          Jun = \"June\",\n          Jul = \"July\",\n          Aug = \"August\",\n          Sep = \"September\",\n          Oct = \"October\",\n          Nov = \"November\",\n          Dec = \"December\"\n        }\n        if (month == \"01\") {\n          monthString = monthIndicator.Jan;\n        } else if (month == \"02\") {\n          monthString = monthIndicator.Feb;\n        } else if (month == \"03\") {\n          monthString = monthIndicator.Mar;\n        } else if (month == \"04\") {\n          monthString = monthIndicator.Apr;\n        } else if (month == \"05\") {\n          monthString = monthIndicator.May;\n        } else if (month == \"06\") {\n          monthString = monthIndicator.Jun;\n        } else if (month == \"07\") {\n          monthString = monthIndicator.Jul;\n        } else if (month == \"08\") {\n          monthString = monthIndicator.Aug;\n        } else if (month == \"09\") {\n          monthString = monthIndicator.Sep;\n        } else if (month == \"10\") {\n          monthString = monthIndicator.Oct;\n        } else if (month == \"11\") {\n          monthString = monthIndicator.Nov;\n        } else if (month == \"12\") {\n          monthString = monthIndicator.Dec;\n        }\n        month = null;\n\n\n        var day = time.substr(8,2);\n        var year = time.substr(0,4);\n        var hour;\n        var halfday;\n        if (time.substr(12,2) > 12) {\n          hour = time.substr(11,2) - 12;\n          halfday = \"PM\";\n        } else {\n          hour = time.substr(11,2);\n          halfday = \"AM\";\n        }\n        var minuteAndSecond = time.substr(13,6);\n\n        var timeString = monthString + \" \" + day + \", \" + year + \", \" + hour + minuteAndSecond + \" \" + halfday;\n        monthString = null;\n        day = null;\n        year = null;\n        hour = null;\n        minuteAndSecond = null;\n        halfday = null;\n\n        this.reviewsArray[count][\"created_at\"] = timeString;\n        timeString = null;\n        this.reviewsArray[count][\"url\"] = results[count][\"url\"];\n\n        if (results[count][\"author_details\"][\"rating\"] !== null) {\n          this.reviewsArray[count][\"rating\"] = results[count][\"author_details\"][\"rating\"];\n        } else {\n          this.reviewsArray[count][\"rating\"] = 0;\n        }\n        if (results[count][\"author_details\"][\"avatar_path\"] !== null) {\n          if (results[count][\"author_details\"][\"avatar_path\"].substring(0, 6) == \"/https\") {\n            this.reviewsArray[count][\"avatar_path\"] = results[count][\"author_details\"][\"avatar_path\"].substr(1);\n\n          } else {\n            this.reviewsArray[count][\"avatar_path\"] = \"https://image.tmdb.org/t/p/original\" + results[count][\"author_details\"][\"avatar_path\"];\n          }\n        } else {\n          this.reviewsArray[count][\"avatar_path\"] = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnPmUvFLjjmoYWAbLTEmLLIRCPpV_OgxCVA&usqp=CAU\";\n        }\n      }\n    });\n    console.log(this.reviewsArray);\n  }\n\n  recommendedTvArray = [];\n  recommendedTvImagesArray = [];\n  recommendedTvNameArray = [];\n  recommendedTvIdArray = [];\n\n  recommendedTvImagesMatrix = [];\n  recommendedTvNameMatrix = [];\n  recommendedTvIdMatrix = [];\n\n  getRecommendedTv() {\n    this.detailPageService.getRecommendedTvService(this.id).subscribe((response) => {\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        // alert(\"not recommended tv\");\n        return;\n      }\n      this.recommendedTvArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.recommendedTvArray.length; i++) {\n        this.recommendedTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.recommendedTvArray[i][\"poster_path\"];\n        this.recommendedTvNameArray[i] = this.recommendedTvArray[i][\"name\"];\n        this.recommendedTvIdArray[i] = this.recommendedTvArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedTvImagesArray.length > 0) {\n          this.recommendedTvImagesMatrix.push(this.recommendedTvImagesArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedTvImagesArray.length > 0) {\n        this.recommendedTvImagesMatrix.push(this.recommendedTvImagesArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedTvNameArray.length > 0) {\n          this.recommendedTvNameMatrix.push(this.recommendedTvNameArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedTvNameArray.length > 0) {\n        this.recommendedTvNameMatrix.push(this.recommendedTvNameArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedTvIdArray.length > 0) {\n          this.recommendedTvIdMatrix.push(this.recommendedTvIdArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedTvIdArray.length > 0) {\n        this.recommendedTvIdMatrix.push(this.recommendedTvIdArray.splice(0, 2));\n      }\n\n      // console.log(this.recommendedMovieImagesMatrix);\n      // console.log(this.recommendedMovieNameMatrix);\n      // console.log(this.recommendedMovieIdMatrix);\n      for (var i = 0; i < this.recommendedTvArray.length; i++) {\n        this.recommendedTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.recommendedTvArray[i][\"poster_path\"];\n        this.recommendedTvNameArray[i] = this.recommendedTvArray[i][\"name\"];\n        this.recommendedTvIdArray[i] = this.recommendedTvArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n\n  similarTvArray = [];\n  similarTvImagesArray = [];\n  similarTvNameArray = [];\n  similarTvIdArray = [];\n\n  similarTvImagesMatrix = [];\n  similarTvNameMatrix = [];\n  similarTvIdMatrix = [];\n\n  getSimilarTv() {\n    this.detailPageService.getSimilarTvService(this.id).subscribe((response) => {\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        // alert(\"not recommended movie\");\n        return;\n      }\n      this.similarTvArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.similarTvArray.length; i++) {\n        this.similarTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.similarTvArray[i][\"poster_path\"];\n        this.similarTvNameArray[i] = this.similarTvArray[i][\"name\"];\n        this.similarTvIdArray[i] = this.similarTvArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      for (var i = 0; i < 3; i++) {\n        if (this.similarTvImagesArray.length > 0) {\n          this.similarTvImagesMatrix.push(this.similarTvImagesArray.splice(0, 6));\n        }\n      }\n      if (this.similarTvImagesArray.length > 0) {\n        this.similarTvImagesMatrix.push(this.similarTvImagesArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.similarTvNameArray.length > 0) {\n          this.similarTvNameMatrix.push(this.similarTvNameArray.splice(0, 6));\n        }\n      }\n      if (this.similarTvNameArray.length > 0) {\n        this.similarTvNameMatrix.push(this.similarTvNameArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.similarTvIdArray.length > 0) {\n          this.similarTvIdMatrix.push(this.similarTvIdArray.splice(0, 6));\n        }\n      }\n      if (this.similarTvIdArray.length > 0) {\n        this.similarTvIdMatrix.push(this.similarTvIdArray.splice(0, 2));\n      }\n      //\n      // console.log(this.similarMovieImagesMatrix);\n      // console.log(this.similarMovieNameMatrix);\n      // console.log(this.similarMovieIdMatrix);\n      for (var i = 0; i < this.similarTvArray.length; i++) {\n        this.similarTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.similarTvArray[i][\"poster_path\"];\n        this.similarTvNameArray[i] = this.similarTvArray[i][\"name\"];\n        this.similarTvIdArray[i] = this.similarTvArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n  checkStorageContains() {\n    document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"\";\n    const keyString = \"list^\" + this.id + \"^\" + this.category;\n    console.log(\"key string: \" + keyString);\n    this.storageService.print();\n    if (this.storageService.containsKey(keyString)) {\n      var movieTitle = this.detail[\"title\"];\n      var postURL = this.detail[\"poster_path\"];\n      const current = new Date();\n      const timestamp = current.getTime();\n      var valueString = movieTitle + \"^\" + postURL + \"^\" + timestamp;\n      // console.log(\"value string: \" + valueString);\n      this.storageService.set(keyString, valueString);\n\n\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Remove from Watchlist\";\n    } else {\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Add to Watchlist\";\n    }\n  }\n\n  public isAdded = false;\n  public isRemoved = false;\n  modifyWatchlist(): void {\n    const keyString = \"list^\" + this.id + \"^\" + this.category;\n\n    this.closed = false;\n    if (this.storageService.containsKey(keyString)) {\n      // 存在\n      this.storageService.remove(keyString);\n      this.storageService.print();\n      this.isRemoved = true;\n      this.isAdded = false;\n      this._Removed.next(' - 12312313');\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Add to Watchlist\";\n      // 弹窗\n    } else {\n      // 不存在\n      var movieTitle = this.detail[\"title\"];\n      var postURL = this.detail[\"poster_path\"];\n      const current = new Date();\n      const timestamp = current.getTime();\n      var valueString = movieTitle + \"^\" + postURL + \"^\" + timestamp;\n\n      this.storageService.set(keyString, valueString);\n      this.isAdded = true;\n      this.isRemoved = false;\n      this._Added.next(' - 12312313');\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Remove from Watchlist\";\n      // 弹窗\n    }\n  }\n\n\n}\n","<head>\n  <script src=\"https://www.youtube.com/iframe_api\"></script>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n  <style>\n    /* width */\n    ::-webkit-scrollbar {\n      width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: #f1f1f1;\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      background: #888;\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: #555;\n    }\n  </style>\n</head>\n<body style=\"\">\n<div class=\"container\">\n  <!-- Stack the columns on mobile by making one full-width and the other half-width -->\n  <div class=\"row\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\">\n\n      <!--        -->\n      <div id=\"movie_detail\">\n        <div class=\"card mb-3\" style=\"\">\n          <div class=\"row g-0\" id=\"movie_detail_inner\">\n            <div class=\"col-md-8\">\n              <div class=\"embed-responsive embed-responsive-16by9\">\n\n                <youtube-player *ngIf=\"!isMobile\" videoId=\"{{videoLink}}\" [height]=\"400\" [width]=\"650\"></youtube-player>\n                <youtube-player *ngIf=\"isMobile\" videoId=\"{{videoLink}}\" [height]=\"200\" [width]=\"325\"></youtube-player>\n\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card-body\">\n                <h2 class=\"card-title\">{{ detail[\"title\"] }}</h2>\n                <p class=\"card-text\">{{ detail[\"tagline\"] }}</p>\n                <p class=\"card-text\">{{ detail[\"release_date\"] }} |★ {{ detail[\"vote_average\"] }} | {{ detail[\"hours\"] }} {{ detail[\"minutes\"] }}</p>\n                <p class=\"card-text\">Genres: {{ detail[\"genres\"] }}</p>\n                <p class=\"card-text\">Spoken Languages: {{ detail[\"spoken_languages\"] }}</p>\n                <button id=\"add_to_watchlist_btn\" class=\"btn btn-primary\" (click)=modifyWatchlist()>Add to Watchlist</button>\n                <ngb-alert #selfClosingAlert type=\"success\" (closed)=\"closed = true; successMessage = ''\" *ngIf=\"isAdded && !closed\">Added to watchlist.</ngb-alert>\n                <ngb-alert #selfClosingAlert type=\"danger\" (closed)=\"closed = true; successMessage = ''\" *ngIf=\"isRemoved && !closed\">Removed from watchlist.</ngb-alert>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--        -->\n\n\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n\n\n\n\n\n  <div class=\"row\" *ngIf=\"detail['overview'] !== null && detail['overview'] !== undefined\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\" >\n      <div class=\"card\">\n        <div class=\"card-body\" id=\"move_decription\" style=\"\">\n          <h5 class=\"card-title\">Description</h5>\n          <p class=\"card-text\">{{ detail[\"overview\"] }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n  <!--      <div id=\"move_decription\" *ngIf=\"detail['overview'] !== null && detail['overview'] !== undefined\" style=\"margin-top: 20px; margin-bottom: 50px;\">-->\n  <!--        <h5>Description</h5>-->\n  <!--        <p>{{ detail[\"overview\"] }}</p>-->\n  <!--      </div>-->\n\n  <div class=\"row\" *ngIf=\"videoLink !== null && videoLink !== undefined && videoLink.length > 0\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\">\n      <div class=\"card\">\n        <div class=\"card-body\" style=\"\">\n          <h5 class=\"card-title\">Share</h5>\n          <a class=\"twitter-share-button\"\n             href=\"https://twitter.com/intent/tweet?text=Watch+{{ detail['title'] }}%0A{{ videoLink }}%0A&hashtags=USC,CSCI571,FightOn\"\n             data-size=\"large\" target=\"_blank\">\n            <i style=\"font-size:30px;color: skyblue;\" class=\"fa\">&#xf099;</i>\n          </a>\n          <div class=\"fb-share-button\" data-href=\"https://developers.facebook.com/docs/plugins/\" data-layout=\"button\" data-size=\"small\" style=\" display: inline-block;\">\n            <a target=\"_blank\" href=\"https://www.facebook.com/sharer/sharer.php?u={{ videoLink }}\" class=\"fb-xfbml-parse-ignore\">\n              <i style=\"font-size:30px;color: blue;\" class=\"fa\">&#xf082;</i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n\n\n  <div class=\"row\" *ngIf=\"castArray !== null && castArray !== undefined && castArray.length > 0\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\">\n      <h1>Full Cast and Crew</h1>\n      <div id=\"watchlist_card_container\" class=\"d-flex flex-row flex-nowrap\">\n        <div id=\"cast_card\" class=\"card\" style=\"\"  *ngFor=\"let cast of castArray; index as j\" (click)=\"getCastDetail(content, cast['id'], cast['profile_path'])\">\n          <img class=\"card-img-top\" id=\"cast_img\" [src]=\"cast['profile_path']\" alt=\"Card image cap\">\n          <div class=\"card-body\" id=\"cast_content\">\n            <p id=\"cast_name\" style=\"margin-top: 10px; font-weight: bold;\">{{ cast[\"name\"] }}</p>\n            <p style=\"font-weight: bold;\">AS</p>\n            <p id=\"cast_character\" style=\"margin-bottom: 5px;\">{{ cast[\"character\"] }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n\n  <div id=\"cast_modal\" style=\"\">\n    <ng-template #content let-modal style=\"background: white;\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">{{ castDetailsArray[\"name\"] }}</h4>\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\" style=\"\">\n        <div class=\"card mb-3\" style=\"max-width: 740px; border-style: none; background: white;\">\n          <div class=\"row g-0\">\n            <div class=\"col-md-4\" id=\"modal_img\" style=\" text-align: center\">\n              <img [src]=\"castDetailsArray['profile_path']\" alt=\"\" style=\"width: 200px; height: 300px;\" *ngIf=\"!isMobile\">\n              <img [src]=\"castDetailsArray['profile_path']\" alt=\"\" style=\"width: 300px; height: 500px;\" *ngIf=\"isMobile\">\n            </div>\n            <div class=\"col-md-8\">\n              <div class=\"card-body\">\n                <p class=\"card-text\" *ngIf=\"castDetailsArray['birthday'] !== null && castDetailsArray['birthday'] !== undefined && castDetailsArray['birthday'].length > 0\">Birth: {{ castDetailsArray['birthday'] }}</p>\n                <p class=\"card-text\" *ngIf=\"castDetailsArray['place_of_birth'] !== null && castDetailsArray['place_of_birth'] !== undefined && castDetailsArray['place_of_birth'].length > 0\">Birth Place: {{ castDetailsArray['place_of_birth'] }}</p>\n                <p class=\"card-text\" *ngIf=\"castDetailsArray['gender'] !== null && castDetailsArray['gender'] !== undefined && castDetailsArray['gender'].length > 0\">Gender: {{ castDetailsArray['gender'] }}</p>\n                <p class=\"card-text\" *ngIf=\"castDetailsArray['homepage'] !== null && castDetailsArray['homepage'] !== undefined && castDetailsArray['homepage'].length > 0\">Website: {{ castDetailsArray['homepage'] }}</p>\n                <p class=\"card-text\" *ngIf=\"castDetailsArray['known_for_department'] !== null && castDetailsArray['known_for_department'] !== undefined && castDetailsArray['known_for_department'].length > 0\">Known for: {{ castDetailsArray['known_for_department'] }}</p>\n\n                <div class=\"card-text\" *ngIf=\"castDetailsArray['also_known_as'] !== null && castDetailsArray['also_known_as'] !== undefined && castDetailsArray['also_known_as'].length > 0\" >\n                  <p>Also known as: {{ castDetailsArray['also_known_as'] }}</p>\n                </div>\n\n                <span class=\"card-text\" *ngIf=\"castExternalArray['imdb_id'] !== null && castExternalArray['imdb_id'] !== undefined && castExternalArray['imdb_id'].length > 0\" >\n                        <a href=\"{{ castExternalArray['imdb_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: burlywood; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit TMDB\">&#xf2d8;\n                          </i>\n                        </a>\n                      </span>\n                <span class=\"card-text\" *ngIf=\"castExternalArray['Instagram_id'] !== null && castExternalArray['Instagram_id'] !== undefined && castExternalArray['Instagram_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['Instagram_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: violet;\"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Instagram\">&#xf16d;\n                          </i>\n                        </a>\n                      </span>\n                <span class=\"card-text\" *ngIf=\"castExternalArray['facebook_id'] !== null && castExternalArray['facebook_id'] !== undefined && castExternalArray['facebook_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['facebook_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: blue; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Facebook\">&#xf082;\n                          </i>\n                        </a>\n                      </span>\n                <span class=\"card-text\" *ngIf=\"castExternalArray['Twitter_id'] !== null && castExternalArray['Twitter_id'] !== undefined && castExternalArray['Twitter_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['Twitter_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: skyblue; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Twitter\">&#xf099;\n                          </i>\n                        </a>\n                      </span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card\" style=\"border-style: none; background: white;\" *ngIf=\"castDetailsArray['biography'] !== null && castDetailsArray['biography'] !== undefined && castDetailsArray['biography'].length > 0 \">\n          <div class=\"card-body\">\n            <p class=\"card-text\" style=\"font-size: 30px\">Biography</p>\n            <p class=\"card-text\" style=\" width: 100%;\">{{ castDetailsArray['biography'] }}</p>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </div>\n\n\n\n  <div class=\"row\" *ngIf=\"reviewsArray !== null && reviewsArray !== undefined && reviewsArray.length > 0\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\">\n      <h1>Reviews  <span style=\"opacity: 0.8; display: inline\">{{ reviewsArray.length }}</span> </h1>\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n  <div class=\"row\" id=\"reviews\" *ngFor=\"let review of reviewsArray\" style=\"margin-bottom: 20px;\">\n    <div class=\"col-1\"></div>\n    <div class=\"col-10\">\n      <div class=\"card mb-3\" style=\"background: white; border-radius: 15px; \">\n        <div class=\"row g-0\">\n          <div class=\"col-md-4\" id=\"review_img\">\n            <div class=\"text-center\">\n              <img [src]=\"review['avatar_path']\" alt=\"...\">\n            </div>\n          </div>\n          <div class=\"col-md-8\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">A review created by {{ review[\"author\"] }} <span style=\"color: white; background-color: black; border-radius: 50px; padding:5px; \">★{{ review[\"rating\"] }}</span></h5>\n              <p class=\"card-text\"><small class=\"text-muted\">Written by {{ review[\"author\"] }} on {{ review[\"created_at\"] }}</small></p>\n              <p class=\"card-text\" id=\"review_content\">{{ review[\"content\"] }}</p>\n              <button type=\"button\" class=\"btn btn-link\"><a href=\"{{ review['url'] }}\">Read the rest</a></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"col-1\"></div>\n  </div>\n\n\n  <div class=\"row\" *ngIf=\"!isMobile && recommendedTvArray !== null && recommendedTvArray !== undefined && recommendedTvArray.length > 0\">\n    <div class=\"col-sm-1 col-xs-1\"></div>\n    <div class=\"col-sm-10 col-xs-10\">\n      <h2>Recommended Movies</h2>\n      <div id=\"popular_movie\" class=\"rows\">\n        <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n          <ng-template ngbSlide *ngFor=\"let array of recommendedTvImagesMatrix; index as i\">\n            <div id=\"recommended_movies_poster\"  *ngFor=\"let img of array; index as j\">\n              <div class=\"picsum-img-wrapper\">\n                <a href=\"/watch/tv/{{ recommendedTvIdMatrix[i][j] }}\">\n                  <img [src]=\"img\" alt=\"\">\n                </a>\n                <div id=\"recommended_movies_title\" class=\"titles\">\n                  <p>{{recommendedTvNameMatrix[i][j]}}</p>\n                </div>\n              </div>\n\n            </div>\n          </ng-template>\n        </ngb-carousel>\n      </div>\n    </div>\n    <div class=\"col-sm-1 col-xs-1\"></div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"isMobile && recommendedTvArray !== null && recommendedTvArray !== undefined && recommendedTvArray.length > 0\" >\n    <div class=\"mobile_row\">\n      <h2>Recommended Movies</h2>\n      <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">\n        <ng-template ngbSlide *ngFor=\"let img of recommendedTvImagesArray; index as i\" >\n          <a routerLink=\"/watch/tv/{{ recommendedTvIdArray[i] }}\">\n            <div class=\"picsum-img-wrapper_mobile\">\n              <img [src]=\"img\" alt=\"Random first slide\">\n              <div class=\"carousel-caption\">\n                <p>{{ recommendedTvNameArray[i] }}</p>\n              </div>\n            </div>\n\n          </a>\n        </ng-template>\n      </ngb-carousel>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"!isMobile && similarTvArray !== null && similarTvArray !== undefined && similarTvArray.length > 0\">\n    <div class=\"col-sm-1 col-xs-1\"></div>\n    <div class=\"col-sm-10 col-xs-10\">\n      <h2>Similar Movies</h2>\n      <div class=\"rows\">\n        <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n          <ng-template ngbSlide *ngFor=\"let array of similarTvImagesMatrix; index as i\">\n            <div id=\"similar_movies_poster\"  *ngFor=\"let img of array; index as j\">\n              <div class=\"picsum-img-wrapper\">\n                <a href=\"/watch/tv/{{ similarTvIdMatrix[i][j] }}\">\n                  <img [src]=\"img\" alt=\"\">\n                </a>\n                <div id=\"similar_movies_title\" class=\"titles\">\n                  <p>{{similarTvNameMatrix[i][j]}}</p>\n                </div>\n              </div>\n\n            </div>\n          </ng-template>\n        </ngb-carousel>\n      </div>\n    </div>\n    <div class=\"col-sm-1 col-xs-1\"></div>\n  </div>\n\n  <div class=\"row\"  *ngIf=\"isMobile && similarTvArray !== null && similarTvArray !== undefined && similarTvArray.length > 0\" >\n    <div class=\"mobile_row\">\n      <h2>Similar Movies</h2>\n      <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">\n        <ng-template ngbSlide *ngFor=\"let img of similarTvImagesArray; index as i\">\n          <a routerLink=\"/watch/tv/{{ similarTvIdArray[i] }}\">\n            <div class=\"picsum-img-wrapper_mobile\">\n              <img [src]=\"img\" alt=\"Random first slide\">\n              <div class=\"carousel-caption\">\n                <p>{{ similarTvNameArray[i] }}</p>\n              </div>\n            </div>\n\n          </a>\n        </ng-template>\n      </ngb-carousel>\n    </div>\n  </div>\n</div>\n\n</body>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div style=\"background: rgb(0, 0, 43); color: white; text-align: center; height: 30px; width: 100%;\">\n  <p>Powered by TMDB. Developed by Wenhao Ge</p>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'hw8Angular';\n\n}\n","<div style=\"overflow-y: auto;\">\n\n  <app-navbar></app-navbar>\n\n  <router-outlet></router-outlet>\n<!--  <app-homepage></app-homepage>-->\n<!--  <app-mylist> </app-mylist>-->\n  <app-footer></app-footer>\n</div>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { LayoutModule } from '@angular/cdk/layout';\n\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { HomepageComponent } from './components/homepage/homepage.component';\nimport { NavbarComponent } from './components/navbar/navbar.component';\nimport { FooterComponent } from './components/footer/footer.component';\nimport { MylistComponent } from './components/mylist/mylist.component';\nimport { MovieDetailComponent } from './components/movie-detail/movie-detail.component';\nimport { TvDetailComponent } from './components/tv-detail/tv-detail.component';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { MyliststorageService } from './services/myliststorage.service';\nimport { YouTubePlayerModule } from \"@angular/youtube-player\";\nimport {FormsModule} from \"@angular/forms\";\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomepageComponent,\n    MylistComponent,\n    NavbarComponent,\n    MovieDetailComponent,\n    TvDetailComponent,\n    FooterComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgbModule,\n    HttpClientModule,\n    YouTubePlayerModule,\n    FormsModule,\n    LayoutModule\n  ],\n  providers: [MyliststorageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { DetailpageService } from 'src/app/services/detailpage.service';\nimport { MyliststorageService } from 'src/app/services/myliststorage.service';\nimport {NgbCarousel, NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport { Subject } from 'rxjs';\nimport {debounceTime, min} from \"rxjs/operators\";\nimport { NgbAlert } from \"@ng-bootstrap/ng-bootstrap\";\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\n\n\n@Component({\n  selector: 'app-movie-detail' ,\n  templateUrl: './movie-detail.component.html',\n  styleUrls: ['./movie-detail.component.css'],\n  styles: [`\n    .dark-modal .modal-content {\n      background-color: #292b2c;\n      color: white;\n    }\n    .dark-modal .close {\n      color: white;\n    }\n  `]\n})\nexport class MovieDetailComponent implements OnInit {\n  public category: string;\n  public id: string;\n  public isMobile:boolean = false;\n\n  private _Added = new Subject<string>();\n  private _Removed = new Subject<string>();\n  public closed;\n  successMessage = '';\n  @ViewChild('selfClosingAlert', {static: false}) selfClosingAlert: NgbAlert;\n\n  paused = false;\n  unpauseOnArrow = false;\n  pauseOnIndicator = false;\n  pauseOnHover = true;\n  pauseOnFocus = true;\n  showNavigationIndicators = false;\n  @ViewChild('carousel', {static: true}) carousel: NgbCarousel;\n\n  constructor(private route : ActivatedRoute,\n              private detailPageService : DetailpageService,\n              private storageService : MyliststorageService,\n              private modalService: NgbModal,\n              public breakpointObserver: BreakpointObserver\n  ) { }\n\n  ngOnInit(): void {\n    this.category = \"movie\";\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.getMovieVideo();\n    this.getMovieDetail();\n    this.getMovieCast();\n    this.getMovieReviews();\n\n    this._Added.subscribe(message => this.successMessage = message);\n    this._Added.pipe(debounceTime(5000)).subscribe(() => {\n      // console.log(\"123123\");\n      if (this.selfClosingAlert) {\n        this.selfClosingAlert.close();\n      }\n    });\n    this._Removed.subscribe(message => this.successMessage = message);\n    this._Removed.pipe(debounceTime(5000)).subscribe(() => {\n      if (this.selfClosingAlert) {\n        this.selfClosingAlert.close();\n      }\n    });\n\n    this.getRecommendedMovie();\n    this.getSimilarMovie();\n\n    if (this.breakpointObserver.isMatched('(max-width: 500px)')) {\n      console.log('The 900px viewport matched!');\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n\n\n\n  }\n  public videoLink: string;\n\n  getMovieVideo(): void {\n    this.detailPageService.getMovieVideoService(this.id).subscribe((response) => {\n      // console.log(response[\"results\"]);\n      var resultArray = response[\"results\"];\n      var trailer;\n      var teaser;\n      // var target;\n\n      for (var i = 0; i < resultArray.length; i++) {\n        if (resultArray[i][\"type\"] == \"Trailer\") {\n          trailer = resultArray[i];\n          break;\n        } else if (resultArray[i][\"type\"] == \"Teaser\") {\n          teaser = resultArray[i];\n        }\n      }\n      if (trailer !== undefined) {\n        this.videoLink = trailer[\"key\"];\n\n      } else if (trailer === undefined && trailer !== undefined) {\n        this.videoLink = teaser[\"key\"];\n      } else {\n        this.videoLink = \"tzkWB85ULJY\";\n      }\n      console.log(this.videoLink);\n    });\n  }\n\n  public detail = [];\n  public twitterContent = \"\";\n  getMovieDetail(): void {\n    this.detailPageService.getMovieDetailService(this.id).subscribe((response) => {\n      if (response[\"id\"] != this.id) {\n        // alert(\"movie detail id not match\");\n        return;\n      }\n      this.detail[\"title\"] = response[\"title\"];\n      this.detail[\"poster_path\"] = response[\"poster_path\"];\n      this.twitterContent += \"Watch\" + this.detail[\"title\"] + this.videoLink + \"#USC#CSCI571#FightOn\";\n\n      var genersArray = response[\"genres\"];\n      var str = \"\";\n      for (var i = 0; i < genersArray.length; i++) {\n         str += genersArray[i][\"name\"];\n         if (i != genersArray.length - 1) {\n           str += \", \";\n         }\n      }\n      this.detail[\"genres\"] = str;\n      str = null;\n\n\n      var langArray = response[\"spoken_languages\"];\n      var langStr = \"\";\n      for (var i = 0; i < langArray.length; i++) {\n        langStr += langArray[i][\"english_name\"];\n        if (i != langArray.length - 1) {\n          langStr += \", \";\n        }\n      }\n      this.detail[\"spoken_languages\"] = langStr;\n      langStr = null;\n\n\n      this.detail[\"release_date\"] = response[\"release_date\"].substr(0, 4);\n      var runtime = response[\"runtime\"] ;\n      var mins = runtime % 60;\n      this.detail[\"minutes\"] = mins + \"mins\";\n      this.detail[\"hours\"] = (runtime - mins) / 60 + \"hrs\";\n\n      this.detail[\"overview\"] = response[\"overview\"];\n      this.detail[\"vote_average\"] = response[\"vote_average\"];\n      this.detail[\"tagline\"] = response[\"tagline\"];\n\n      console.log(this.detail);\n      this.checkStorageContains();\n    });\n  }\n\n  castArray = [];\n  getMovieCast() {\n    this.detailPageService.getMovieCastService(this.id).subscribe((response) => {\n      if (response[\"id\"] != this.id) {\n        // alert(\"movie detail id not match\");\n        return;\n      }\n\n      // console.log(this.castArray);\n      for (let i = 0; i < response[\"cast\"].length; i++) {\n        if (response[\"cast\"][i][\"profile_path\"] !== null) {\n          this.castArray.push({\n            \"id\": response[\"cast\"][i][\"id\"],\n            \"name\": response[\"cast\"][i][\"name\"],\n            \"character\": response[\"cast\"][i][\"character\"],\n            \"profile_path\": \"https://image.tmdb.org/t/p/w500/\" + response[\"cast\"][i][\"profile_path\"]\n          });\n        }\n      }\n    });\n  }\n\n  public castDetailsArray = [];\n  public castExternalArray = [];\n  getCastDetail(content, castId, profilePath) {\n    this.modalService.open(content, { size: 'lg' });\n\n    this.castDetailsArray = [];\n    this.castExternalArray = [];\n\n    this.castDetailsArray[\"profile_path\"] = profilePath;\n    this.detailPageService.getCastDetailService(castId).subscribe((response) => {\n      // console.log(response);\n      if (response[\"id\"] != castId) {\n        // alert(\"cast detail id not match\");\n        return;\n      }\n      if (response[\"birthday\"] !== null) {\n        this.castDetailsArray[\"birthday\"] = response[\"birthday\"];\n      }\n\n      if (response[\"gender\"] === 1) {\n        this.castDetailsArray[\"gender\"] = \"female\";\n      } else if (response[\"gender\"] === 2) {\n        this.castDetailsArray[\"gender\"] = \"male\";\n      } else if (response[\"gender\"] === 0) {\n        this.castDetailsArray[\"gender\"] = \"undefined\";\n      }\n      if (response[\"place_of_birth\"] !== null) {\n        this.castDetailsArray[\"place_of_birth\"] = response[\"place_of_birth\"];\n      }\n      if (response[\"name\"] !== null) {\n        this.castDetailsArray[\"name\"] = response[\"name\"];\n      }\n      if (response[\"homepage\"] !== null) {\n        this.castDetailsArray[\"homepage\"] = response[\"homepage\"];\n      }\n      // console.log(this.castDetailsArray[\"homepage\"]);\n      if (response[\"also_known_as\"] !== null) {\n        this.castDetailsArray[\"also_known_as\"] = response[\"also_known_as\"];\n      }\n      if (response[\"known_for_department\"] !== null) {\n        this.castDetailsArray[\"known_for_department\"] = response[\"known_for_department\"];\n      }\n      if (response[\"biography\"] !== null) {\n        this.castDetailsArray[\"biography\"] = response[\"biography\"];\n      }\n    });\n    console.log(this.castDetailsArray);\n\n\n    this.detailPageService.getCastExternalIdService(castId).subscribe((response) => {\n      if (response[\"id\"] != castId) {\n        // alert(\"cast detail id not match\");\n        return;\n      }\n      if (response[\"imdb_id\"] !== null && response[\"imdb_id\"] !== undefined && response[\"imdb_id\"].length > 0) {\n        this.castExternalArray[\"imdb_id\"] = \"https://imdb.com/name/\" + response[\"imdb_id\"];\n      }\n      // console.log(this.castExternalArray[\"imdb_id\"]);\n      if (response[\"facebook_id\"] !== null && response[\"facebook_id\"] !== undefined && response[\"facebook_id\"].length > 0){\n        this.castExternalArray[\"facebook_id\"] = \"https://facebook.com/\" + response[\"facebook_id\"];\n      }\n      if (response[\"Instagram_id\"] !== null && response[\"Instagram_id\"] !== undefined && response[\"Instagram_id\"].length > 0) {\n        this.castExternalArray[\"Instagram_id\"] = \"https://instagram.com/\" + response[\"Instagram_id\"];\n      }\n      if (response[\"Twitter_id\"] !== null && response[\"Twitter_id\"] !== undefined && response[\"Twitter_id\"].length > 0) {\n        this.castExternalArray[\"Twitter_id\"] = \"https://twitter.com/\" + response[\"Twitter_id\"];\n      }\n\n    });\n    console.log(this.castExternalArray);\n  }\n\n\n  public reviewsArray = [];\n  getMovieReviews() {\n    this.detailPageService.getMovieReviewsService(this.id).subscribe((response) => {\n      if (response[\"id\"] != this.id) {\n        // alert(\"review results id not match\");\n        return;\n      }\n\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        console.log(\"review Array length: \" + this.reviewsArray.length);\n        return;\n      }\n      var results = response[\"results\"];\n      // console.log(results[0][\"author\"]);\n      for (var count = 0; count < Math.min(10, results.length); count ++) {\n        this.reviewsArray[count] = {\n          \"author\" : results[count][\"author\"]\n        };\n        this.reviewsArray[count][\"content\"] = results[count][\"content\"];\n\n        var time = results[count][\"created_at\"];\n\n        var month = time.substr(5,2);\n        var monthString;\n        enum monthIndicator {\n          Jan = \"January\",\n          Feb = \"February\",\n          Mar = \"March\",\n          Apr = \"April\",\n          May = \"May\",\n          Jun = \"June\",\n          Jul = \"July\",\n          Aug = \"August\",\n          Sep = \"September\",\n          Oct = \"October\",\n          Nov = \"November\",\n          Dec = \"December\"\n        }\n        if (month == \"01\") {\n          monthString = monthIndicator.Jan;\n        } else if (month == \"02\") {\n          monthString = monthIndicator.Feb;\n        } else if (month == \"03\") {\n          monthString = monthIndicator.Mar;\n        } else if (month == \"04\") {\n          monthString = monthIndicator.Apr;\n        } else if (month == \"05\") {\n          monthString = monthIndicator.May;\n        } else if (month == \"06\") {\n          monthString = monthIndicator.Jun;\n        } else if (month == \"07\") {\n          monthString = monthIndicator.Jul;\n        } else if (month == \"08\") {\n          monthString = monthIndicator.Aug;\n        } else if (month == \"09\") {\n          monthString = monthIndicator.Sep;\n        } else if (month == \"10\") {\n          monthString = monthIndicator.Oct;\n        } else if (month == \"11\") {\n          monthString = monthIndicator.Nov;\n        } else if (month == \"12\") {\n          monthString = monthIndicator.Dec;\n        }\n        month = null;\n\n\n        var day = time.substr(8,2);\n        var year = time.substr(0,4);\n        var hour;\n        var halfday;\n        if (time.substr(12,2) > 12) {\n          hour = time.substr(11,2) - 12;\n          halfday = \"PM\";\n        } else {\n          hour = time.substr(11,2);\n          halfday = \"AM\";\n        }\n        var minuteAndSecond = time.substr(13,6);\n\n        var timeString = monthString + \" \" + day + \", \" + year + \", \" + hour + minuteAndSecond + \" \" + halfday;\n        monthString = null;\n        day = null;\n        year = null;\n        hour = null;\n        minuteAndSecond = null;\n        halfday = null;\n\n        this.reviewsArray[count][\"created_at\"] = timeString;\n        timeString = null;\n        this.reviewsArray[count][\"url\"] = results[count][\"url\"];\n\n        if (results[count][\"author_details\"][\"rating\"] !== null) {\n          this.reviewsArray[count][\"rating\"] = results[count][\"author_details\"][\"rating\"];\n        } else {\n          this.reviewsArray[count][\"rating\"] = 0;\n        }\n        if (results[count][\"author_details\"][\"avatar_path\"] !== null) {\n          if (results[count][\"author_details\"][\"avatar_path\"].substring(0, 6) == \"/https\") {\n            this.reviewsArray[count][\"avatar_path\"] = results[count][\"author_details\"][\"avatar_path\"].substr(1);\n\n          } else {\n            this.reviewsArray[count][\"avatar_path\"] = \"https://image.tmdb.org/t/p/original\" + results[count][\"author_details\"][\"avatar_path\"];\n          }\n        } else {\n          this.reviewsArray[count][\"avatar_path\"] = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnPmUvFLjjmoYWAbLTEmLLIRCPpV_OgxCVA&usqp=CAU\";\n        }\n      }\n    });\n    console.log(this.reviewsArray);\n  }\n\n\n  recommendedMovieArray = [];\n  recommendedMovieImagesArray = [];\n  recommendedMovieNameArray = [];\n  recommendedMovieIdArray = [];\n\n  recommendedMovieImagesMatrix = [];\n  recommendedMovieNameMatrix = [];\n  recommendedMovieIdMatrix = [];\n\n  getRecommendedMovie() {\n    this.detailPageService.getRecommendedMovieService(this.id).subscribe((response) => {\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        // alert(\"not recommended movie\");\n        return;\n      }\n      this.recommendedMovieArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.recommendedMovieArray.length; i++) {\n        this.recommendedMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.recommendedMovieArray[i][\"poster_path\"];\n        this.recommendedMovieNameArray[i] = this.recommendedMovieArray[i][\"title\"];\n        this.recommendedMovieIdArray[i] = this.recommendedMovieArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedMovieImagesArray.length > 0) {\n          this.recommendedMovieImagesMatrix.push(this.recommendedMovieImagesArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedMovieImagesArray.length > 0) {\n        this.recommendedMovieImagesMatrix.push(this.recommendedMovieImagesArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedMovieNameArray.length > 0) {\n          this.recommendedMovieNameMatrix.push(this.recommendedMovieNameArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedMovieNameArray.length > 0) {\n        this.recommendedMovieNameMatrix.push(this.recommendedMovieNameArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.recommendedMovieIdArray.length > 0) {\n          this.recommendedMovieIdMatrix.push(this.recommendedMovieIdArray.splice(0, 6));\n        }\n      }\n      if (this.recommendedMovieIdArray.length > 0) {\n        this.recommendedMovieIdMatrix.push(this.recommendedMovieIdArray.splice(0, 2));\n      }\n      for (var i = 0; i < this.recommendedMovieArray.length; i++) {\n        this.recommendedMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.recommendedMovieArray[i][\"poster_path\"];\n        this.recommendedMovieNameArray[i] = this.recommendedMovieArray[i][\"title\"];\n        this.recommendedMovieIdArray[i] = this.recommendedMovieArray[i][\"id\"];\n      }\n      // console.log(this.recommendedMovieImagesMatrix);\n      // console.log(this.recommendedMovieNameMatrix);\n      // console.log(this.recommendedMovieIdMatrix);\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n\n  similarMovieArray = [];\n  similarMovieImagesArray = [];\n  similarMovieNameArray = [];\n  similarMovieIdArray = [];\n\n  similarMovieImagesMatrix = [];\n  similarMovieNameMatrix = [];\n  similarMovieIdMatrix = [];\n\n  getSimilarMovie() {\n    this.detailPageService.getSimilarMovieService(this.id).subscribe((response) => {\n      if (response[\"results\"] === null || response[\"results\"].length == 0) {\n        // alert(\"not recommended movie\");\n        return;\n      }\n      this.similarMovieArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.similarMovieArray.length; i++) {\n        this.similarMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.similarMovieArray[i][\"poster_path\"];\n        this.similarMovieNameArray[i] = this.similarMovieArray[i][\"title\"];\n        this.similarMovieIdArray[i] = this.similarMovieArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      for (var i = 0; i < 3; i++) {\n        if (this.similarMovieImagesArray.length > 0) {\n          this.similarMovieImagesMatrix.push(this.similarMovieImagesArray.splice(0, 6));\n        }\n      }\n      if (this.similarMovieImagesArray.length > 0) {\n        this.similarMovieImagesMatrix.push(this.similarMovieImagesArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.similarMovieNameArray.length > 0) {\n          this.similarMovieNameMatrix.push(this.similarMovieNameArray.splice(0, 6));\n        }\n      }\n      if (this.similarMovieNameArray.length > 0) {\n        this.similarMovieNameMatrix.push(this.similarMovieNameArray.splice(0, 2));\n      }\n\n      for (var i = 0; i < 3; i++) {\n        if (this.similarMovieIdArray.length > 0) {\n          this.similarMovieIdMatrix.push(this.similarMovieIdArray.splice(0, 6));\n        }\n      }\n      if (this.similarMovieIdArray.length > 0) {\n        this.similarMovieIdMatrix.push(this.similarMovieIdArray.splice(0, 2));\n      }\n      //\n      // console.log(this.similarMovieImagesMatrix);\n      // console.log(this.similarMovieNameMatrix);\n      // console.log(this.similarMovieIdMatrix);\n      for (var i = 0; i < this.similarMovieArray.length; i++) {\n        this.similarMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.similarMovieArray[i][\"poster_path\"];\n        this.similarMovieNameArray[i] = this.similarMovieArray[i][\"title\"];\n        this.similarMovieIdArray[i] = this.similarMovieArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n\n  checkStorageContains() {\n    document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"\";\n    const watchlistString = \"list^\" + this.id + \"^\" + this.category;\n    // console.log(\"key string: \" + keyString);\n    this.storageService.print();\n    var movieTitle = this.detail[\"title\"];\n    var postURL = this.detail[\"poster_path\"];\n    const current = new Date();\n    const timestamp = current.getTime();\n    var valueString = movieTitle + \"^\" + postURL + \"^\" + timestamp;\n\n    if (this.storageService.containsKey(watchlistString)) {\n\n      // console.log(\"value string: \" + valueString);\n      this.storageService.set(watchlistString, valueString);\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Remove from Watchlist\";\n    } else {\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Add to Watchlist\";\n    }\n\n    const continueWatchingString = \"cont^\" + this.id + \"^\" + this.category;\n    this.storageService.set(continueWatchingString, valueString);\n\n  }\n\n  public isAdded = false;\n  public isRemoved = false;\n  modifyWatchlist(): void {\n    const keyString = \"list^\" + this.id + \"^\" + this.category;\n\n    this.closed = false;\n    if (this.storageService.containsKey(keyString)) {\n      // 存在\n      this.storageService.remove(keyString);\n      this.storageService.print();\n      this.isRemoved = true;\n      this.isAdded = false;\n      this._Removed.next(' - 12312313');\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Add to Watchlist\";\n\n    } else {\n      // 不存在\n      var movieTitle = this.detail[\"title\"];\n      var postURL = this.detail[\"poster_path\"];\n      const current = new Date();\n      const timestamp = current.getTime();\n      var valueString = movieTitle + \"^\" + postURL + \"^\" + timestamp;\n\n      this.storageService.set(keyString, valueString);\n      this.isAdded = true;\n      this.isRemoved = false;\n      this._Added.next(' - 12312313');\n      document.getElementById(\"add_to_watchlist_btn\").innerHTML = \"Remove from Watchlist\";\n\n    }\n  }\n\n\n}\n","<head>\n  <script src=\"https://www.youtube.com/iframe_api\"></script>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n</head>\n<body style=\"\">\n  <div class=\"container\">\n    <!-- Stack the columns on mobile by making one full-width and the other half-width -->\n    <div class=\"row\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n\n        <!--        -->\n        <div id=\"movie_detail\">\n          <div class=\"card mb-3\" style=\"\">\n            <div class=\"row g-0\" id=\"movie_detail_inner\">\n              <div class=\"col-md-8\">\n                <div class=\"embed-responsive embed-responsive-16by9\">\n\n                  <youtube-player *ngIf=\"!isMobile\" videoId=\"{{videoLink}}\" [height]=\"400\" [width]=\"650\"></youtube-player>\n                  <youtube-player *ngIf=\"isMobile\" videoId=\"{{videoLink}}\" [height]=\"200\" [width]=\"325\"></youtube-player>\n\n                </div>\n              </div>\n              <div class=\"col-md-4\">\n                <div class=\"card-body\">\n                  <h2 class=\"card-title\">{{ detail[\"title\"] }}</h2>\n                  <p class=\"card-text\">{{ detail[\"tagline\"] }}</p>\n                  <p class=\"card-text\">{{ detail[\"release_date\"] }} |★ {{ detail[\"vote_average\"] }} | {{ detail[\"hours\"] }} {{ detail[\"minutes\"] }}</p>\n                  <p class=\"card-text\">Genres: {{ detail[\"genres\"] }}</p>\n                  <p class=\"card-text\">Spoken Languages: {{ detail[\"spoken_languages\"] }}</p>\n                  <button id=\"add_to_watchlist_btn\" class=\"btn btn-primary\" (click)=modifyWatchlist()>Add to Watchlist</button>\n                  <ngb-alert #selfClosingAlert type=\"success\" (closed)=\"closed = true; successMessage = ''\" *ngIf=\"isAdded && !closed\">Added to watchlist.</ngb-alert>\n                  <ngb-alert #selfClosingAlert type=\"danger\" (closed)=\"closed = true; successMessage = ''\" *ngIf=\"isRemoved && !closed\">Removed from watchlist.</ngb-alert>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!--        -->\n\n\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n\n\n\n\n\n\n    <div class=\"row\" *ngIf=\"detail['overview'] !== null && detail['overview'] !== undefined\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\" >\n        <div class=\"card\">\n          <div class=\"card-body\" id=\"move_decription\" style=\"\">\n            <h5 class=\"card-title\">Description</h5>\n            <p class=\"card-text\">{{ detail[\"overview\"] }}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n\n  <!--      <div id=\"move_decription\" *ngIf=\"detail['overview'] !== null && detail['overview'] !== undefined\" style=\"margin-top: 20px; margin-bottom: 50px;\">-->\n  <!--        <h5>Description</h5>-->\n  <!--        <p>{{ detail[\"overview\"] }}</p>-->\n  <!--      </div>-->\n\n    <div class=\"row\" *ngIf=\"videoLink !== null && videoLink !== undefined && videoLink.length > 0\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <div class=\"card\">\n          <div class=\"card-body\" style=\"\">\n            <h5 class=\"card-title\">Share</h5>\n            <a class=\"twitter-share-button\"\n               href=\"https://twitter.com/intent/tweet?text=Watch+{{ detail['title'] }}%0A{{ videoLink }}%0A&hashtags=USC,CSCI571,FightOn\"\n               data-size=\"large\" target=\"_blank\">\n              <i style=\"font-size:30px;color: skyblue;\" class=\"fa\">&#xf099;</i>\n            </a>\n            <div class=\"fb-share-button\" data-href=\"https://developers.facebook.com/docs/plugins/\" data-layout=\"button\" data-size=\"small\" style=\" display: inline-block;\">\n              <a target=\"_blank\" href=\"https://www.facebook.com/sharer/sharer.php?u={{ videoLink }}\" class=\"fb-xfbml-parse-ignore\">\n                <i style=\"font-size:30px;color: blue;\" class=\"fa\">&#xf082;</i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n\n\n\n    <div class=\"row\" *ngIf=\"castArray !== null && castArray !== undefined && castArray.length > 0\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <h1>Full Cast and Crew</h1>\n        <div id=\"watchlist_card_container\" class=\"d-flex flex-row flex-nowrap\">\n          <div id=\"cast_card\" class=\"card\" style=\"\"  *ngFor=\"let cast of castArray; index as j\" (click)=\"getCastDetail(content, cast['id'], cast['profile_path'])\">\n            <img class=\"card-img-top\" id=\"cast_img\" [src]=\"cast['profile_path']\" alt=\"Card image cap\">\n            <div class=\"card-body\" id=\"cast_content\">\n              <p id=\"cast_name\" style=\"margin-top: 10px; font-weight: bold;\">{{ cast[\"name\"] }}</p>\n              <p style=\"font-weight: bold;\">AS</p>\n              <p id=\"cast_character\" style=\"margin-bottom: 5px;\">{{ cast[\"character\"] }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n\n\n<!--        <div *ngIf=\"castArray !== null && castArray.length > 0 && castArray !== undefined\">-->\n<!--          <h2>Full Cast and Crew</h2>-->\n<!--          <div id=\"watchlist_card_container\" class=\"d-flex flex-row flex-nowrap\">-->\n<!--            <div id=\"cast_card\" class=\"card\" style=\"\"  *ngFor=\"let cast of castArray; index as j\" (click)=\"getCastDetail(content, cast['id'], cast['profile_path'])\">-->\n<!--              <img class=\"card-img-top\" id=\"cast_img\" [src]=\"cast['profile_path']\" alt=\"Card image cap\">-->\n<!--              <div class=\"card-body\" id=\"cast_content\">-->\n<!--                <p id=\"cast_name\" style=\"margin-top: 10px; font-weight: bold;\">{{ cast[\"name\"] }}</p>-->\n<!--                <p style=\"font-weight: bold;\">AS</p>-->\n<!--                <p id=\"cast_character\" style=\"margin-bottom: 5px;\">{{ cast[\"character\"] }}</p>-->\n<!--              </div>-->\n<!--            </div>-->\n<!--          </div>-->\n<!--        </div>-->\n\n\n        <div id=\"cast_modal\" style=\"\">\n          <ng-template #content let-modal style=\"background: white;\">\n            <div class=\"modal-header\">\n              <h4 class=\"modal-title\">{{ castDetailsArray[\"name\"] }}</h4>\n              <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\" style=\"\">\n              <div class=\"card mb-3\" style=\"max-width: 740px; border-style: none; background: white;\">\n                <div class=\"row g-0\">\n                  <div class=\"col-md-4\" id=\"modal_img\" style=\" text-align: center\">\n                    <img [src]=\"castDetailsArray['profile_path']\" alt=\"\" style=\"width: 200px; height: 300px;\" *ngIf=\"!isMobile\">\n                    <img [src]=\"castDetailsArray['profile_path']\" alt=\"\" style=\"width: 300px; height: 500px;\" *ngIf=\"isMobile\">\n                  </div>\n                  <div class=\"col-md-8\">\n                    <div class=\"card-body\">\n                      <p class=\"card-text\" *ngIf=\"castDetailsArray['birthday'] !== null && castDetailsArray['birthday'] !== undefined && castDetailsArray['birthday'].length > 0\">Birth: {{ castDetailsArray['birthday'] }}</p>\n                      <p class=\"card-text\" *ngIf=\"castDetailsArray['place_of_birth'] !== null && castDetailsArray['place_of_birth'] !== undefined && castDetailsArray['place_of_birth'].length > 0\">Birth Place: {{ castDetailsArray['place_of_birth'] }}</p>\n                      <p class=\"card-text\" *ngIf=\"castDetailsArray['gender'] !== null && castDetailsArray['gender'] !== undefined && castDetailsArray['gender'].length > 0\">Gender: {{ castDetailsArray['gender'] }}</p>\n                      <p class=\"card-text\" *ngIf=\"castDetailsArray['homepage'] !== null && castDetailsArray['homepage'] !== undefined && castDetailsArray['homepage'].length > 0\">Website: {{ castDetailsArray['homepage'] }}</p>\n                      <p class=\"card-text\" *ngIf=\"castDetailsArray['known_for_department'] !== null && castDetailsArray['known_for_department'] !== undefined && castDetailsArray['known_for_department'].length > 0\">Known for: {{ castDetailsArray['known_for_department'] }}</p>\n\n                      <div class=\"card-text\" *ngIf=\"castDetailsArray['also_known_as'] !== null && castDetailsArray['also_known_as'] !== undefined && castDetailsArray['also_known_as'].length > 0\" >\n                        <p>Also known as: {{ castDetailsArray['also_known_as'] }}</p>\n                      </div>\n\n                      <span class=\"card-text\" *ngIf=\"castExternalArray['imdb_id'] !== null && castExternalArray['imdb_id'] !== undefined && castExternalArray['imdb_id'].length > 0\" >\n                        <a href=\"{{ castExternalArray['imdb_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: burlywood; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit TMDB\">&#xf2d8;\n                          </i>\n                        </a>\n                      </span>\n                      <span class=\"card-text\" *ngIf=\"castExternalArray['Instagram_id'] !== null && castExternalArray['Instagram_id'] !== undefined && castExternalArray['Instagram_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['Instagram_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: violet;\"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Instagram\">&#xf16d;\n                          </i>\n                        </a>\n                      </span>\n                      <span class=\"card-text\" *ngIf=\"castExternalArray['facebook_id'] !== null && castExternalArray['facebook_id'] !== undefined && castExternalArray['facebook_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['facebook_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: blue; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Facebook\">&#xf082;\n                          </i>\n                        </a>\n                      </span>\n                      <span class=\"card-text\" *ngIf=\"castExternalArray['Twitter_id'] !== null && castExternalArray['Twitter_id'] !== undefined && castExternalArray['Twitter_id'].length > 0\">\n                        <a href=\"{{ castExternalArray['Twitter_id'] }}\" target=\"_blank\">\n                          <i style=\"font-size:36px;color: skyblue; \"\n                             class=\"fa\"\n                             placement=\"top\"\n                             ngbTooltip=\"Visit Twitter\">&#xf099;\n                          </i>\n                        </a>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"card\" style=\"border-style: none; background: white;\" *ngIf=\"castDetailsArray['biography'] !== null && castDetailsArray['biography'] !== undefined && castDetailsArray['biography'].length > 0 \">\n                <div class=\"card-body\">\n                  <p class=\"card-text\" style=\"font-size: 30px\">Biography</p>\n                  <p class=\"card-text\" style=\" width: 100%;\">{{ castDetailsArray['biography'] }}</p>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n        </div>\n\n\n\n        <div class=\"row\" *ngIf=\"reviewsArray !== null && reviewsArray !== undefined && reviewsArray.length > 0\">\n          <div class=\"col-1\"></div>\n          <div class=\"col-10\">\n            <h1>Reviews  <span style=\"opacity: 0.8; display: inline\">{{ reviewsArray.length }}</span> </h1>\n          </div>\n          <div class=\"col-1\"></div>\n        </div>\n\n        <div class=\"row\" id=\"reviews\" *ngFor=\"let review of reviewsArray\" style=\"margin-bottom: 20px;\">\n          <div class=\"col-1\"></div>\n          <div class=\"col-10\">\n            <div class=\"card mb-3\" style=\"background: white; border-radius: 15px; \">\n                <div class=\"row g-0\">\n                  <div class=\"col-md-4\" id=\"review_img\">\n                    <div class=\"text-center\">\n                      <img [src]=\"review['avatar_path']\" alt=\"...\">\n                    </div>\n                  </div>\n                  <div class=\"col-md-8\">\n                    <div class=\"card-body\">\n                      <h5 class=\"card-title\">A review created by {{ review[\"author\"] }} <span style=\"color: white; background-color: black; border-radius: 50px; padding:5px; \">★{{ review[\"rating\"] }}</span></h5>\n                      <p class=\"card-text\"><small class=\"text-muted\">Written by {{ review[\"author\"] }} on {{ review[\"created_at\"] }}</small></p>\n                      <p class=\"card-text\" id=\"review_content\">{{ review[\"content\"] }}</p>\n                      <button type=\"button\" class=\"btn btn-link\"><a href=\"{{ review['url'] }}\">Read the rest</a></button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n\n          </div>\n          <div class=\"col-1\"></div>\n        </div>\n\n\n        <div class=\"row\" *ngIf=\"!isMobile && recommendedMovieArray !== null && recommendedMovieArray !== undefined && recommendedMovieArray.length > 0\">\n          <div class=\"col-sm-1 col-xs-1\"></div>\n          <div class=\"col-sm-10 col-xs-10\">\n            <h2>Recommended Movies</h2>\n            <div id=\"popular_movie\" class=\"rows\">\n              <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n                <ng-template ngbSlide *ngFor=\"let array of recommendedMovieImagesMatrix; index as i\">\n                  <div id=\"recommended_movies_poster\"  *ngFor=\"let img of array; index as j\">\n                    <div class=\"picsum-img-wrapper\">\n                      <a href=\"/watch/movie/{{ recommendedMovieIdMatrix[i][j] }}\">\n                        <img [src]=\"img\" alt=\"\">\n                      </a>\n                      <div id=\"recommended_movies_title\" class=\"titles\">\n                        <p>{{recommendedMovieNameMatrix[i][j]}}</p>\n                      </div>\n                    </div>\n\n                  </div>\n                </ng-template>\n              </ngb-carousel>\n            </div>\n          </div>\n          <div class=\"col-sm-1 col-xs-1\"></div>\n        </div>\n\n    <div class=\"row\" *ngIf=\"isMobile && recommendedMovieArray !== null && recommendedMovieArray !== undefined && recommendedMovieArray.length > 0\" >\n      <div class=\"mobile_row\">\n        <h2>Recommended Movies</h2>\n        <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">\n          <ng-template ngbSlide *ngFor=\"let img of recommendedMovieImagesArray; index as i\">\n            <a routerLink=\"/watch/movie/{{ recommendedMovieIdArray[i] }}\">\n              <div class=\"picsum-img-wrapper_mobile\">\n                <img [src]=\"img\" alt=\"Random first slide\">\n                <div class=\"carousel-caption\">\n                  <p>{{ recommendedMovieNameArray[i] }}</p>\n                </div>\n              </div>\n\n            </a>\n          </ng-template>\n        </ngb-carousel>\n      </div>\n    </div>\n\n    <div class=\"row\" *ngIf=\"!isMobile && similarMovieArray !== null && similarMovieArray !== undefined && similarMovieArray.length > 0\" >\n      <div class=\"col-sm-1 col-xs-1\"></div>\n      <div class=\"col-sm-10 col-xs-10\">\n        <h2>Similar Movies</h2>\n        <div class=\"rows\">\n          <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n            <ng-template ngbSlide *ngFor=\"let array of similarMovieImagesMatrix; index as i\">\n              <div id=\"similar_movies_poster\"  *ngFor=\"let img of array; index as j\">\n                <div class=\"picsum-img-wrapper\">\n                  <a href=\"/watch/movie/{{ similarMovieIdMatrix[i][j] }}\">\n                    <img [src]=\"img\" alt=\"\">\n                  </a>\n                  <div id=\"similar_movies_title\" class=\"titles\">\n                    <p>{{similarMovieNameMatrix[i][j]}}</p>\n                  </div>\n                </div>\n\n              </div>\n            </ng-template>\n          </ngb-carousel>\n        </div>\n      </div>\n      <div class=\"col-sm-1 col-xs-1\"></div>\n    </div>\n\n    <div class=\"row\"  *ngIf=\"isMobile && similarMovieArray !== null && similarMovieArray !== undefined && similarMovieArray.length > 0\" >\n      <div class=\"mobile_row\">\n        <h2>Similar Movies</h2>\n        <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">\n          <ng-template ngbSlide *ngFor=\"let img of similarMovieImagesArray; index as i\">\n            <a routerLink=\"/watch/movie/{{ similarMovieIdArray[i] }}\">\n              <div class=\"picsum-img-wrapper_mobile\">\n                <img [src]=\"img\" alt=\"Random first slide\">\n                <div class=\"carousel-caption\">\n                  <p>{{ similarMovieNameArray[i] }}</p>\n                </div>\n              </div>\n\n            </a>\n          </ng-template>\n        </ngb-carousel>\n      </div>\n    </div>\n</div>\n\n</body>\n","import {Component, Injectable, OnInit} from '@angular/core';\nimport {Observable, of, OperatorFunction} from 'rxjs';\nimport {catchError, debounceTime, distinctUntilChanged, map, switchMap, tap} from 'rxjs/operators';\nimport {SearchService} from \"../../services/search.service\";\nimport {BreakpointObserver} from \"@angular/cdk/layout\";\n\n\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css'],\n  styles: [`.form-control { width: 300px; }`],\n  providers: [SearchService]\n})\nexport class NavbarComponent implements OnInit {\n  // public title: string = \"12341\";\n  isMobile:boolean = false;\n  public isMenuCollapsed = true;\n  constructor(private searchService : SearchService, public breakpointObserver: BreakpointObserver) { }\n\n  ngOnInit(): void {\n    if (this.breakpointObserver.isMatched('(max-width: 500px)')) {\n      console.log('The 900px viewport matched!');\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n  print() {\n    console.log(\"sdfasdf\");\n  }\n\n\n  public model: any;\n  searching = false;\n  searchFailed = false;\n\n  search = (text$: Observable<any>) => {\n    return text$.pipe(\n      debounceTime(300),\n      distinctUntilChanged(),\n      // switchMap(term =>\n      //   this._service.searchResult(term).pipe(tap(() => this.searchFailed = false),\n      //     catchError(() => {\n      //       this.searchFailed = true;\n      //       return of([]);\n      //     }))\n      // ),\n      switchMap((term) => this.searchService.searchResultService(term))\n    );\n  }\n\n  formatter = (x: {}) => \" \";\n\n\n  /**\n   * Used to format the result data from the lookup into the\n   * display and list values. Maps `{name: \"band\", id:\"id\" }` into a string\n   */\n  resultFormatBandListValue(value: any) {\n    if (value.name) {\n      return value.name;\n    } else if (value.title) {\n      return value.title;\n    }\n\n  }\n  /**\n   * Initially binds the string value and then after selecting\n   * an item by checking either for string or key/value object.\n   */\n  inputFormatBandListValue(value: any)   {\n  }\n\n}\n","\n<nav class=\"navbar navbar-expand-lg navbar-dark fixed-top\" style=\"background: rgb(0, 0, 43); width: 100%;\" *ngIf=\"!isMobile\">\n    <button routerLink=\"/\" type=\"button\" class=\"btn btn-outline-dark\" style=\"margin-left: 20px; border-style: none; font-size: 20px; color: white; min-width: 120px;\">USC Films</button>\n  <!-- Step 3: Toggle the value of the property when the toggler button is clicked. -->\n  <button class=\"navbar-toggler\" type=\"button\" (click)=\"isMenuCollapsed = !isMenuCollapsed\" style=\"color: white;\">\n    &#9776;\n  </button>\n\n  <!-- Step 2: Add the ngbCollapse directive to the element below. -->\n  <div #collapse=\"ngbCollapse\" [ngbCollapse]=\"isMenuCollapsed\" class=\"collapse navbar-collapse\" style=\"\">\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item\" [routerLinkActive]=\"['active']\" [routerLinkActiveOptions]=\"{exact:true}\">\n        <a class=\"nav-link\" [routerLink]=\"['/']\" (click)=\"isMenuCollapsed = true\" style=\"margin-left: 20px; width: 60px;\">Home</a>\n      </li>\n      <li class=\"nav-item\" [routerLinkActive]=\"['active']\">\n        <a class=\"nav-link\" (click)=\"isMenuCollapsed = true\" [routerLink]=\"['/mylist']\" style=\"margin-left: 20px; width: 70px;\">My List</a>\n      </li>\n    </ul>\n<!--      <li class=\"nav-item\" id=\"search_outer_nav\">-->\n    <div class=\"search_outer\" *ngIf=\"!isMobile\" style=\"margin-left: 700px; float: left;\">\n      <fieldset class=\"form-inline\">\n        <div class=\"form-group\">\n          <ng-template #rt let-r=\"result\" let-t=\"term\">\n            <a routerLink=\"/watch/{{ r['media_type']}}/{{ r['id'] }}\">\n              <img [src]=\"'https://image.tmdb.org/t/p/w780'+ r['backdrop_path']\" style=\"width: 60px; height: 40px\" *ngIf=\"r['backdrop_path'] !== null && r['backdrop_path'] !== undefined && r['backdrop_path'].length > 0; else noImg\">\n              <ng-template #noImg>\n                <img [src]=\"'https://bytes.usc.edu/cs571/s21_JSwasm00/hw/HW6/imgs/movie-placeholder.jpg'\" style=\"width: 60px; height: 40px\">\n              </ng-template>\n              <ngb-highlight [result]=\"r['title'] || ['r.name']\" [term]=\"t\"></ngb-highlight>\n            </a>\n          </ng-template>\n          <input id=\"typeahead-http\" type=\"text\" class=\"form-control mx-sm-3 typeahead-http\"\n                 [class.is-invalid]=\"searchFailed\"\n                 [(ngModel)]=\"model\"\n                 [resultTemplate]=\"rt\"\n                 [resultFormatter]=\"resultFormatBandListValue\"\n                 [inputFormatter]=\"formatter\"\n                 [ngbTypeahead]=\"search\" placeholder=\"search\"\n          />\n\n        </div>\n      </fieldset>\n    </div>\n  </div>\n</nav>\n\n<nav class=\"navbar navbar-expand-lg navbar-dark fixed-top\" style=\"background: rgb(0, 0, 43); width: 414px;\" *ngIf=\"isMobile\">\n  <button routerLink=\"/\" type=\"button\" class=\"btn btn-outline-dark\" style=\"margin-left: 20px; border-style: none; font-size: 20px; color: white;\">USC Films</button>\n  <!-- Step 3: Toggle the value of the property when the toggler button is clicked. -->\n  <button class=\"navbar-toggler\" type=\"button\" (click)=\"isMenuCollapsed = !isMenuCollapsed\" style=\"color: white;\">\n    &#9776;\n  </button>\n\n  <!-- Step 2: Add the ngbCollapse directive to the element below. -->\n  <div [ngbCollapse]=\"isMenuCollapsed\" class=\"collapse navbar-collapse\" style=\"position: relative;\">\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item\" [routerLinkActive]=\"['active']\" [routerLinkActiveOptions]=\"{exact:true}\">\n        <a class=\"nav-link\" [routerLink]=\"['/']\" (click)=\"isMenuCollapsed = true\" style=\"margin-left: 20px; float: right\">Home</a>\n      </li>\n      <li class=\"nav-item\" [routerLinkActive]=\"['active']\">\n        <a class=\"nav-link\" (click)=\"isMenuCollapsed = true\" [routerLink]=\"['/mylist']\" style=\"margin-left: 20px; float: right\">My List</a>\n      </li>\n    </ul>\n    <div class=\"search_outer\" *ngIf=\"isMobile\" style=\"float: left\">\n      <fieldset class=\"form-inline\">\n        <div class=\"form-group\">\n          <ng-template #rt let-r=\"result\" let-t=\"term\">\n            <a routerLink=\"/watch/{{ r['media_type']}}/{{ r['id'] }}\">\n              <img [src]=\"'https://image.tmdb.org/t/p/w780'+ r['backdrop_path']\" style=\"width: 60px; height: 40px\" *ngIf=\"r['backdrop_path'] !== null && r['backdrop_path'] !== undefined && r['backdrop_path'].length > 0; else noImg\">\n              <ng-template #noImg>\n                <img [src]=\"'https://bytes.usc.edu/cs571/s21_JSwasm00/hw/HW6/imgs/movie-placeholder.jpg'\" style=\"width: 60px; height: 40px\">\n              </ng-template>\n              <ngb-highlight [result]=\"r['title'] || ['r.name']\" [term]=\"t\"></ngb-highlight>\n            </a>\n          </ng-template>\n          <input type=\"text\" class=\"form-control mx-sm-3 typeahead-http\"\n                 [class.is-invalid]=\"searchFailed\"\n                 [(ngModel)]=\"model\"\n                 [resultTemplate]=\"rt\"\n                 [resultFormatter]=\"resultFormatBandListValue\"\n                 [inputFormatter]=\"formatter\"\n                 [ngbTypeahead]=\"search\" placeholder=\"search\"\n          />\n\n        </div>\n      </fieldset>\n    </div>\n  </div>\n</nav>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {NgbCarousel, NgbCarouselConfig, NgbSlideEvent, NgbSlideEventSource} from '@ng-bootstrap/ng-bootstrap';\nimport { HomepageService } from 'src/app/services/homepage.service';\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css'],\n  providers: [NgbCarouselConfig]\n})\n\nexport class HomepageComponent implements OnInit{\n  paused = false;\n  unpauseOnArrow = false;\n  pauseOnIndicator = false;\n  pauseOnHover = true;\n  pauseOnFocus = true;\n  showNavigationIndicators = false;\n  @ViewChild('carousel', {static: true}) carousel: NgbCarousel;\n\n\n  constructor( private homepageService : HomepageService, public breakpointObserver: BreakpointObserver) {\n  }\n\n\n  ngOnInit() {\n\n    this.getPlayingMovie();\n    this.getPopularMovie();\n    this.getTopRatedMovie();\n    this.getTrendingMovie();\n    this.getPopluarTv();\n    this.getTopRatedTv();\n    this.getTrendingTv()\n\n    this.getContinueWatching();\n    this.getContinueWatchingMatrix();\n\n\n    if (this.breakpointObserver.isMatched('(max-width: 500px)')) {\n      console.log('The 900px viewport matched!');\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n\n  isMobile:boolean = false;\n\n\n\n\n\n  // 3.2.1 Currently Playing Movies Carousel\n  playingMovieArray = [];\n  playingMovieImgArray = [];\n  playingMovieNameArray = [];\n  playingMovieIdArray = [];\n  getPlayingMovie() {\n    this.homepageService.getPlayingMovieService().subscribe((response) => {\n      // console.log(response);\n      this.playingMovieArray = response[\"results\"];\n      // console.log(this.playingMovieArray);\n      this.playingMovieImgArray = [0, 1, 2, 3, 4].map((n) => 'https://image.tmdb.org/t/p/w780' + this.playingMovieArray[n][\"backdrop_path\"]);\n      this.playingMovieNameArray = [0, 1, 2, 3, 4].map((n) => this.playingMovieArray[n][\"title\"]);\n      this.playingMovieIdArray = [0, 1, 2, 3, 4].map((n) => this.playingMovieArray[n][\"id\"]);\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n  // 3.2.2 Continue Watching Section\n\n  // 3.2.3 Popular Movies Section\n  popularMovieArray = [];\n  popularMovieImagesArray = [];\n  popularMovieNameArray = [];\n  popularMovieIdArray = [];\n\n  popularMovieImagesMatrix = [];\n  popularMovieNameMatrix = [];\n  popularMovieIdMatrix = [];\n\n  getPopularMovie() {\n    this.homepageService.getPopularMovieService().subscribe((response) => {\n      this.popularMovieArray = response[\"results\"];\n      for (var i = 0; i < this.popularMovieArray.length; i++) {\n        this.popularMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.popularMovieArray[i][\"poster_path\"];\n        this.popularMovieNameArray[i] = this.popularMovieArray[i][\"title\"];\n        this.popularMovieIdArray[i] = this.popularMovieArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      this.popularMovieImagesMatrix.push(this.popularMovieImagesArray.splice(0, 6));\n      this.popularMovieImagesMatrix.push(this.popularMovieImagesArray.splice(0, 6));\n      this.popularMovieImagesMatrix.push(this.popularMovieImagesArray.splice(0, 6));\n      this.popularMovieImagesMatrix.push(this.popularMovieImagesArray.splice(0, 2));\n\n      this.popularMovieNameMatrix.push(this.popularMovieNameArray.splice(0, 6));\n      this.popularMovieNameMatrix.push(this.popularMovieNameArray.splice(0, 6));\n      this.popularMovieNameMatrix.push(this.popularMovieNameArray.splice(0, 6));\n      this.popularMovieNameMatrix.push(this.popularMovieNameArray.splice(0, 2));\n\n      this.popularMovieIdMatrix.push(this.popularMovieIdArray.splice(0, 6));\n      this.popularMovieIdMatrix.push(this.popularMovieIdArray.splice(0, 6));\n      this.popularMovieIdMatrix.push(this.popularMovieIdArray.splice(0, 6));\n      this.popularMovieIdMatrix.push(this.popularMovieIdArray.splice(0, 2));\n\n      for (var i = 0; i < this.popularMovieArray.length; i++) {\n        this.popularMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.popularMovieArray[i][\"poster_path\"];\n        this.popularMovieNameArray[i] = this.popularMovieArray[i][\"title\"];\n        this.popularMovieIdArray[i] = this.popularMovieArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n    // 3.2.4 Top Rated Movies Section\n    topRatedMovieArray = [];\n    topRatedMovieImagesArray = [];\n    topRatedMovieNameArray = [];\n    topRatedMovieIdArray = [];\n\n    topRatedMovieImagesMatrix = [];\n    topRatedMovieNameMatrix = [];\n    topRatedMovieIdMatrix = [];\n\n    getTopRatedMovie() {\n      this.homepageService.getTopRatedMovieService().subscribe((response) => {\n        this.topRatedMovieArray = response[\"results\"];\n        for (var i = 0; i < this.topRatedMovieArray.length; i++) {\n          this.topRatedMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.topRatedMovieArray[i][\"poster_path\"];\n          this.topRatedMovieNameArray[i] = this.topRatedMovieArray[i][\"title\"];\n          this.topRatedMovieIdArray[i] = this.topRatedMovieArray[i][\"id\"];\n        }\n        // console.log(this.popularMovieImagesArray);\n        // console.log(this.popularMovieNameArray);\n        // console.log(this.popularMovieIdArray);\n        this.topRatedMovieImagesMatrix.push(this.topRatedMovieImagesArray.splice(0, 6));\n        this.topRatedMovieImagesMatrix.push(this.topRatedMovieImagesArray.splice(0, 6));\n        this.topRatedMovieImagesMatrix.push(this.topRatedMovieImagesArray.splice(0, 6));\n        this.topRatedMovieImagesMatrix.push(this.topRatedMovieImagesArray.splice(0, 2));\n\n        this.topRatedMovieNameMatrix.push(this.topRatedMovieNameArray.splice(0, 6));\n        this.topRatedMovieNameMatrix.push(this.topRatedMovieNameArray.splice(0, 6));\n        this.topRatedMovieNameMatrix.push(this.topRatedMovieNameArray.splice(0, 6));\n        this.topRatedMovieNameMatrix.push(this.topRatedMovieNameArray.splice(0, 2));\n\n        this.topRatedMovieIdMatrix.push(this.topRatedMovieIdArray.splice(0, 6));\n        this.topRatedMovieIdMatrix.push(this.topRatedMovieIdArray.splice(0, 6));\n        this.topRatedMovieIdMatrix.push(this.topRatedMovieIdArray.splice(0, 6));\n        this.topRatedMovieIdMatrix.push(this.topRatedMovieIdArray.splice(0, 2));\n        for (var i = 0; i < this.topRatedMovieArray.length; i++) {\n          this.topRatedMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.topRatedMovieArray[i][\"poster_path\"];\n          this.topRatedMovieNameArray[i] = this.topRatedMovieArray[i][\"title\"];\n          this.topRatedMovieIdArray[i] = this.topRatedMovieArray[i][\"id\"];\n        }\n      }, (error) => {\n        console.log('get error when get playing movie form service');\n      });\n    }\n\n\n\n\n    // 3.2.5 Trending Movies Section\n  trendingMovieArray = [];\n  trendingMovieImagesArray = [];\n  trendingMovieNameArray = [];\n  trendingMovieIdArray = [];\n\n  trendingMovieImagesMatrix = [];\n  trendingMovieNameMatrix = [];\n  trendingMovieIdMatrix = [];\n  getTrendingMovie() {\n    this.homepageService.getTrendingMovieService().subscribe((response) => {\n      this.trendingMovieArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.trendingMovieArray.length; i++) {\n        this.trendingMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.trendingMovieArray[i][\"poster_path\"];\n        this.trendingMovieNameArray[i] = this.trendingMovieArray[i][\"title\"];\n        this.trendingMovieIdArray[i] = this.trendingMovieArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      this.trendingMovieImagesMatrix.push(this.trendingMovieImagesArray.splice(0, 6));\n      this.trendingMovieImagesMatrix.push(this.trendingMovieImagesArray.splice(0, 6));\n      this.trendingMovieImagesMatrix.push(this.trendingMovieImagesArray.splice(0, 6));\n      this.trendingMovieImagesMatrix.push(this.trendingMovieImagesArray.splice(0, 2));\n\n      this.trendingMovieNameMatrix.push(this.trendingMovieNameArray.splice(0, 6));\n      this.trendingMovieNameMatrix.push(this.trendingMovieNameArray.splice(0, 6));\n      this.trendingMovieNameMatrix.push(this.trendingMovieNameArray.splice(0, 6));\n      this.trendingMovieNameMatrix.push(this.trendingMovieNameArray.splice(0, 2));\n\n      this.trendingMovieIdMatrix.push(this.trendingMovieIdArray.splice(0, 6));\n      this.trendingMovieIdMatrix.push(this.trendingMovieIdArray.splice(0, 6));\n      this.trendingMovieIdMatrix.push(this.trendingMovieIdArray.splice(0, 6));\n      this.trendingMovieIdMatrix.push(this.trendingMovieIdArray.splice(0, 2));\n\n      for (var i = 0; i < this.trendingMovieArray.length; i++) {\n        this.trendingMovieImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.trendingMovieArray[i][\"poster_path\"];\n        this.trendingMovieNameArray[i] = this.trendingMovieArray[i][\"title\"];\n        this.trendingMovieIdArray[i] = this.trendingMovieArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n\n    // 3.2.6 Popular TV Shows Section\n\n  popularTvArray = [];\n  popularTvImagesArray = [];\n  popularTvNameArray = [];\n  popularTvIdArray = [];\n\n  popularTvImagesMatrix = [];\n  popularTvNameMatrix = [];\n  popularTvIdMatrix = [];\n\n  getPopluarTv() {\n    this.homepageService.getPopularTvService().subscribe((response) => {\n      this.popularTvArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.popularTvArray.length; i++) {\n        this.popularTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.popularTvArray[i][\"poster_path\"];\n        this.popularTvNameArray[i] = this.popularTvArray[i][\"name\"];\n        this.popularTvIdArray[i] = this.popularTvArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      this.popularTvImagesMatrix.push(this.popularTvImagesArray.splice(0, 6));\n      this.popularTvImagesMatrix.push(this.popularTvImagesArray.splice(0, 6));\n      this.popularTvImagesMatrix.push(this.popularTvImagesArray.splice(0, 6));\n      this.popularTvImagesMatrix.push(this.popularTvImagesArray.splice(0, 2));\n\n      this.popularTvNameMatrix.push(this.popularTvNameArray.splice(0, 6));\n      this.popularTvNameMatrix.push(this.popularTvNameArray.splice(0, 6));\n      this.popularTvNameMatrix.push(this.popularTvNameArray.splice(0, 6));\n      this.popularTvNameMatrix.push(this.popularTvNameArray.splice(0, 2));\n\n      this.popularTvIdMatrix.push(this.popularTvIdArray.splice(0, 6));\n      this.popularTvIdMatrix.push(this.popularTvIdArray.splice(0, 6));\n      this.popularTvIdMatrix.push(this.popularTvIdArray.splice(0, 6));\n      this.popularTvIdMatrix.push(this.popularTvIdArray.splice(0, 2));\n\n      for (var i = 0; i < this.popularTvArray.length; i++) {\n        this.popularTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.popularTvArray[i][\"poster_path\"];\n        this.popularTvNameArray[i] = this.popularTvArray[i][\"name\"];\n        this.popularTvIdArray[i] = this.popularTvArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n    // 3.2.7 Top Rated TV Shows Section\n  topRatedTvArray = [];\n  topRatedTvImagesArray = [];\n  topRatedTvNameArray = [];\n  topRatedTvIdArray = [];\n\n  topRatedTvImagesMatrix = [];\n  topRatedTvNameMatrix = [];\n  topRatedTvIdMatrix = [];\n\n  getTopRatedTv() {\n    this.homepageService.getTopRatedTvService().subscribe((response) => {\n      this.topRatedTvArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.topRatedTvArray.length; i++) {\n        this.topRatedTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.topRatedTvArray[i][\"poster_path\"];\n        this.topRatedTvNameArray[i] = this.topRatedTvArray[i][\"name\"];\n        this.topRatedTvIdArray[i] = this.topRatedTvArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      this.topRatedTvImagesMatrix.push(this.topRatedTvImagesArray.splice(0, 6));\n      this.topRatedTvImagesMatrix.push(this.topRatedTvImagesArray.splice(0, 6));\n      this.topRatedTvImagesMatrix.push(this.topRatedTvImagesArray.splice(0, 6));\n      this.topRatedTvImagesMatrix.push(this.topRatedTvImagesArray.splice(0, 2));\n\n      this.topRatedTvNameMatrix.push(this.topRatedTvNameArray.splice(0, 6));\n      this.topRatedTvNameMatrix.push(this.topRatedTvNameArray.splice(0, 6));\n      this.topRatedTvNameMatrix.push(this.topRatedTvNameArray.splice(0, 6));\n      this.topRatedTvNameMatrix.push(this.topRatedTvNameArray.splice(0, 2));\n\n      this.topRatedTvIdMatrix.push(this.topRatedTvIdArray.splice(0, 6));\n      this.topRatedTvIdMatrix.push(this.topRatedTvIdArray.splice(0, 6));\n      this.topRatedTvIdMatrix.push(this.topRatedTvIdArray.splice(0, 6));\n      this.topRatedTvIdMatrix.push(this.topRatedTvIdArray.splice(0, 2));\n\n      for (var i = 0; i < this.topRatedTvArray.length; i++) {\n        this.topRatedTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.topRatedTvArray[i][\"poster_path\"];\n        this.topRatedTvNameArray[i] = this.topRatedTvArray[i][\"name\"];\n        this.topRatedTvIdArray[i] = this.topRatedTvArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n\n    // 3.2.8 Trending TV shows Section\n\n  trendingTvArray = [];\n  trendingTvImagesArray = [];\n  trendingTvNameArray = [];\n  trendingTvIdArray = [];\n\n  trendingTvImagesMatrix = [];\n  trendingTvNameMatrix = [];\n  trendingTvIdMatrix = [];\n\n  getTrendingTv() {\n    this.homepageService.getTrendingTvService().subscribe((response) => {\n      this.trendingTvArray = response[\"results\"];\n      // console.log(this.trendingMovieArray);\n      for (var i = 0; i < this.trendingTvArray.length; i++) {\n        this.trendingTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.trendingTvArray[i][\"poster_path\"];\n        this.trendingTvNameArray[i] = this.trendingTvArray[i][\"name\"];\n        this.trendingTvIdArray[i] = this.trendingTvArray[i][\"id\"];\n      }\n      // console.log(this.popularMovieImagesArray);\n      // console.log(this.popularMovieNameArray);\n      // console.log(this.popularMovieIdArray);\n      this.trendingTvImagesMatrix.push(this.trendingTvImagesArray.splice(0, 6));\n      this.trendingTvImagesMatrix.push(this.trendingTvImagesArray.splice(0, 6));\n      this.trendingTvImagesMatrix.push(this.trendingTvImagesArray.splice(0, 6));\n      this.trendingTvImagesMatrix.push(this.trendingTvImagesArray.splice(0, 2));\n\n      this.trendingTvNameMatrix.push(this.trendingTvNameArray.splice(0, 6));\n      this.trendingTvNameMatrix.push(this.trendingTvNameArray.splice(0, 6));\n      this.trendingTvNameMatrix.push(this.trendingTvNameArray.splice(0, 6));\n      this.trendingTvNameMatrix.push(this.trendingTvNameArray.splice(0, 2));\n\n      this.trendingTvIdMatrix.push(this.trendingTvIdArray.splice(0, 6));\n      this.trendingTvIdMatrix.push(this.trendingTvIdArray.splice(0, 6));\n      this.trendingTvIdMatrix.push(this.trendingTvIdArray.splice(0, 6));\n      this.trendingTvIdMatrix.push(this.trendingTvIdArray.splice(0, 2));\n\n      for (var i = 0; i < this.trendingTvArray.length; i++) {\n        this.trendingTvImagesArray[i] = 'https://image.tmdb.org/t/p/w500' + this.trendingTvArray[i][\"poster_path\"];\n        this.trendingTvNameArray[i] = this.trendingTvArray[i][\"name\"];\n        this.trendingTvIdArray[i] = this.trendingTvArray[i][\"id\"];\n      }\n    }, (error) => {\n      console.log('get error when get playing movie form service');\n    });\n  }\n\n\n  storageKeyArray = [];\n  continueWatchingArray = [];\n\n  continueWatchingHTMLArray = [];\n  continueWatchingHTMLImgArray = [];\n  continueWatchingHTMLNameArray = [];\n  continueWatchingHTMLIdArray = [];\n  continueWatchingHTMLCateArray = [];\n\n  continueWatchingHTMLImgMatrix = [];\n  continueWatchingHTMLNameMatrix = [];\n  continueWatchingHTMLIdMatrix = [];\n  continueWatchingHTMLCateMatrix = [];\n\n  getContinueWatching() {\n    this.storageKeyArray = Object.keys(localStorage);\n    // console.log(\"storageKeyArray: \" + this.storageKeyArray);\n    for (let i = 0; i < this.storageKeyArray.length; i++) {\n\n      if (this.storageKeyArray[i].substr(1, 4) == \"cont\") {\n        var keyString = this.storageKeyArray[i].substr(6).split(\"^\");\n        var valueString = localStorage.getItem(this.storageKeyArray[i]).split(\"^\");\n\n        var id = keyString[0];\n        var cate = keyString[1].replace('\"', '');\n        var title = valueString[0].replace('\"', '');\n        var url = valueString[1];\n        var timestamp = valueString[2].replace('\"', '');\n\n        this.continueWatchingArray.push({\n          \"id\": id,\n          \"cate\": cate,\n          \"title\": title,\n          \"url\": url,\n          \"timestamp\": timestamp\n        });\n        // console.log(this.continueWatchingArray[\"url\"]);\n      }\n    }\n    if (this.continueWatchingArray.length == 0) {\n      return;\n    }\n    this.continueWatchingArray.sort(function(a, b) {return b.timestamp - a.timestamp});\n    console.log(this.continueWatchingArray);\n    this.continueWatchingHTMLArray = this.continueWatchingArray.slice(0, 24);\n    console.log(\"continue watching array: \" + this.continueWatchingArray);\n  }\n\n\n  getContinueWatchingMatrix() {\n    for (var i = 0; i < this.continueWatchingHTMLArray.length; i++) {\n      this.continueWatchingHTMLImgArray[i] = 'https://image.tmdb.org/t/p/w500' + this.continueWatchingHTMLArray[i][\"url\"];\n      this.continueWatchingHTMLNameArray[i] = this.continueWatchingHTMLArray[i][\"title\"];\n      this.continueWatchingHTMLIdArray[i] = this.continueWatchingHTMLArray[i][\"id\"];\n      this.continueWatchingHTMLCateArray[i] = this.continueWatchingHTMLArray[i][\"cate\"];\n    }\n    for (var i = 0; i < 3; i++) {\n      if (this.continueWatchingHTMLImgArray.length > 0) {\n        this.continueWatchingHTMLImgMatrix.push(this.continueWatchingHTMLImgArray.splice(0, 6));\n      }\n    }\n    if (this.continueWatchingHTMLImgArray.length > 0) {\n      this.continueWatchingHTMLImgMatrix.push(this.continueWatchingHTMLImgArray.splice(0, 2));\n    }\n    for (var i = 0; i < 3; i++) {\n      if (this.continueWatchingHTMLNameArray.length > 0) {\n        this.continueWatchingHTMLNameMatrix.push(this.continueWatchingHTMLNameArray.splice(0, 6));\n      }\n    }\n    if (this.continueWatchingHTMLNameArray.length > 0) {\n      this.continueWatchingHTMLNameMatrix.push(this.continueWatchingHTMLNameArray.splice(0, 2));\n    }\n    for (var i = 0; i < 3; i++) {\n      if (this.continueWatchingHTMLIdArray.length > 0) {\n        this.continueWatchingHTMLIdMatrix.push(this.continueWatchingHTMLIdArray.splice(0, 6));\n      }\n    }\n    if (this.continueWatchingHTMLIdArray.length > 0) {\n      this.continueWatchingHTMLIdMatrix.push(this.continueWatchingHTMLIdArray.splice(0, 2));\n    }\n    for (var i = 0; i < 3; i++) {\n      if (this.continueWatchingHTMLCateArray.length > 0) {\n        this.continueWatchingHTMLCateMatrix.push(this.continueWatchingHTMLCateArray.splice(0, 6));\n      }\n    }\n    if (this.continueWatchingHTMLCateArray.length > 0) {\n      this.continueWatchingHTMLCateMatrix.push(this.continueWatchingHTMLCateArray.splice(0, 2));\n    }\n    // console.log(this.continueWatchingHTMLImgMatrix);\n    // console.log(this.continueWatchingHTMLNameMatrix);\n    // console.log(this.continueWatchingHTMLIdMatrix);\n\n    for (var i = 0; i < this.continueWatchingHTMLArray.length; i++) {\n      this.continueWatchingHTMLImgArray[i] = 'https://image.tmdb.org/t/p/w500' + this.continueWatchingHTMLArray[i][\"url\"];\n      this.continueWatchingHTMLNameArray[i] = this.continueWatchingHTMLArray[i][\"title\"];\n      this.continueWatchingHTMLIdArray[i] = this.continueWatchingHTMLArray[i][\"id\"];\n      this.continueWatchingHTMLCateArray[i] = this.continueWatchingHTMLArray[i][\"cate\"];\n    }\n    // console.log(\"continueWatchingHTMLArray\" + this.continueWatchingArray);\n    // console.log(\"continueWatchingHTMLArray\" + this.continueWatchingHTMLImgArray);\n    // console.log(\"continueWatchingHTMLArray\" + this.continueWatchingHTMLNameArray);\n  }\n}\n","<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n\n<body>\n<!-- <div class=\"container\">-->\n  <div class=\"row\" id=\"current_watching_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n    <div class=\"col-sm-1 col-xs-1\"></div>\n    <div class=\"col-sm-10 col-xs-10\">\n      <div id=\"current_mov\">\n        <ngb-carousel\n          [activeId]=\"\"\n          [pauseOnHover]=\"true\"\n          [pauseOnFocus]=\"true\"\n          interval=\"5000\"\n        >\n          <ng-template ngbSlide *ngFor=\"let img of playingMovieImgArray; index as i\">\n            <div id=\"current_mov_poster\">\n              <div class=\"wrapper\" id=\"current_mov_img\">\n                <a routerLink=\"/watch/movie/{{playingMovieIdArray[i]}}\">\n                  <img [src]='img' alt=\"\">\n                </a >\n              </div>\n              <!-- <div class=\"carousel-caption\">\n                <p>{{currMoviestitle[i]}}</p >\n              </div> -->\n              <div class=\"current_mov_title\" style=\"font-family: 'Noto Sans', sans-serif; font-weight: 400; font-size: 15px;\">\n                <p>{{playingMovieNameArray[i]}}</p >\n              </div>\n            </div>\n          </ng-template>\n        </ngb-carousel>\n      </div>\n    </div>\n    <div class=\"col-sm-1 col-xs-1\"></div>\n  </div>\n\n\n   <div class=\"row\" id=\"current_watching_mobile\" style=\"\" *ngIf=\"isMobile\">\n     <div class=\"col-sm-10 col-xs-10\">\n       <div id=\"current_watching_outer\">\n<!--         <div id=\"current_watching\" class=\"rows\">-->\n           <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\">\n             <ng-template ngbSlide *ngFor=\"let img of playingMovieImgArray; index as i\">\n               <div id=\"current_watching_poster\">\n                 <div class=\"picsum-img-wrapper\">\n                   <a routerLink=\"/watch/movie/{{ playingMovieIdArray[i] }}\">\n                     <img [src]=\"img\" alt=\"\" class=\"poster_img\">\n                   </a>\n                   <div id=\"current_watching_title\" class=\"titles\">\n                     <p>{{playingMovieNameArray[i]}}</p>\n\n                   </div>\n                 </div>\n               </div>\n             </ng-template>\n           </ngb-carousel>\n<!--         </div>-->\n       </div>\n     </div>\n   </div>\n\n\n\n\n  <div class=\"row\" id=\"continue_watching_web\"  *ngIf=\"!isMobile && continueWatchingHTMLArray !== null && continueWatchingHTMLArray.length > 0\" style=\"min-width: 1440px;\">\n<!--   <div class=\"col-sm-1 col-xs-1\"></div>-->\n   <div class=\"col-sm-12 col-xs-12\">\n     <div id=\"continue_watching_outer\">\n       <h2>Continue Watching</h2>\n       <div id=\"continue_watching\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let array of continueWatchingHTMLImgMatrix; index as i\">\n             <div id=\"continue_watching_poster\" class=\"row_poster\" *ngFor=\"let img of array; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/{{ continueWatchingHTMLCateMatrix[i][j] }}/{{ continueWatchingHTMLIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\" class=\"poster_img\">\n                 </a>\n                 <div id=\"continue_watching_title\" class=\"titles\">\n                   <p>{{continueWatchingHTMLNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n   </div>\n<!--   <div class=\"col-sm-1 col-xs-1\"></div>-->\n  </div>\n\n\n   <div class=\"row\" id=\"continue_watching_mobile\"  *ngIf=\"isMobile && continueWatchingHTMLArray !== null && continueWatchingHTMLArray !== undefined && continueWatchingHTMLArray.length > 0\">\n     <div class=\"mobile_row\">\n       <h2>Continue Watching</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">\n         <ng-template ngbSlide *ngFor=\"let img of continueWatchingHTMLImgArray; index as i\">\n           <a routerLink=\"/watch/{{ continueWatchingHTMLCateArray[i] }}/{{ continueWatchingHTMLIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ continueWatchingHTMLNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n     </div>\n   </div>\n\n  <div class=\"row\" id=\"popular_movie_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--   <div class=\"col-sm-1 col-xs-1\"></div>-->\n   <div class=\"col-sm-12 col-xs-12\">\n     <h2>Popular Movies</h2>\n     <div id=\"popular_movie\" class=\"rows\">\n       <ngb-carousel #carousel\n                     [pauseOnHover]=\"pauseOnHover\"\n                     [pauseOnFocus]=\"pauseOnFocus\"\n                     interval=\"0\"\n       >\n         <ng-template ngbSlide *ngFor=\"let popularMovieImgArray of popularMovieImagesMatrix; index as i\">\n           <div id=\"popular_movie_poster\" class=\"row_poster\"  *ngFor=\"let img of popularMovieImgArray; index as j\">\n             <div class=\"picsum-img-wrapper\">\n               <a routerLink=\"/watch/movie/{{ popularMovieIdMatrix[i][j] }}\">\n                 <img [src]=\"img\" alt=\"\">\n               </a>\n               <div id=\"poplar_movie_title\" class=\"titles\">\n                 <p>{{popularMovieNameMatrix[i][j]}}</p>\n               </div>\n             </div>\n           </div>\n         </ng-template>\n       </ngb-carousel>\n     </div>\n   </div>\n<!--   <div class=\"col-sm-1 col-xs-1\"></div>-->\n  </div>\n\n   <div class=\"row\" id=\"popular_movie_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Popular Movies</h2>\n         <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n             <ng-template ngbSlide *ngFor=\"let img of popularMovieImagesArray; index as i\">\n               <a routerLink=\"/watch/movie/{{ popularMovieIdArray[i] }}\">\n                 <div class=\"picsum-img-wrapper_mobile\">\n                   <img [src]=\"img\" alt=\"Random first slide\">\n                   <div class=\"carousel-caption\">\n                     <p>{{ popularMovieNameArray[i] }}</p>\n                   </div>\n                 </div>\n\n               </a>\n             </ng-template>\n         </ngb-carousel>\n     </div>\n   </div>\n\n\n   <div class=\"row\" id=\"topRated_movie_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n     <div class=\"col-sm-12 col-xs-12\">\n       <h2>Top Rated Movies</h2>\n       <div id=\"topRated_movie\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let topRatedMovieImgArray of topRatedMovieImagesMatrix; index as i\">\n             <div id=\"topRated_movie_poster\" class=\"row_poster\" *ngFor=\"let img of topRatedMovieImgArray; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/movie/{{ topRatedMovieIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\">\n                 </a>\n                 <div id=\"topRated_movie_title\" class=\"titles\">\n                   <p>{{topRatedMovieNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n               <!--        </a>-->\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n   </div>\n\n   <div class=\"row\" id=\"topRated_movie_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Top Rated Movies</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n         <ng-template ngbSlide *ngFor=\"let img of topRatedMovieImagesArray; index as i\">\n           <a routerLink=\"/watch/movie/{{ topRatedMovieIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ topRatedMovieNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n\n     </div>\n   </div>\n\n   <div class=\"row\" id=\"trending_movie_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n     <div class=\"col-sm-12 col-xs-12\">\n       <h2>Trending Movies</h2>\n       <div id=\"trending_movie\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let trendingMovieImgArray of trendingMovieImagesMatrix; index as i\">\n             <div id=\"trending_movie_poster\" class=\"row_poster\" *ngFor=\"let img of trendingMovieImgArray; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/movie/{{ trendingMovieIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\">\n                 </a>\n                 <div id=\"trending_movie_title\" class=\"titles\">\n                   <p>{{trendingMovieNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n   </div>\n\n   <div class=\"row\" id=\"trending_movie_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Trending Movies</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n         <ng-template ngbSlide *ngFor=\"let img of trendingMovieImagesArray; index as i\">\n           <a routerLink=\"/watch/movie/{{ trendingMovieIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ trendingMovieNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n     </div>\n   </div>\n\n\n\n   <div class=\"row\" id=\"popular_tv_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n     <div class=\"col-sm-12 col-xs-12\">\n       <h2>Popular TV Shows</h2>\n       <div id=\"popular_tv\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let array of popularTvImagesMatrix; index as i\">\n             <div id=\"popular_tv_poster\" class=\"row_poster\" *ngFor=\"let img of array; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/tv/{{ popularTvIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\">\n                 </a>\n                 <div id=\"popular_tv_title\" class=\"titles\">\n                   <p>{{popularTvNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n   </div>\n\n   <div class=\"row\" id=\"popular_tv_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Popular TV Shows</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n         <ng-template ngbSlide *ngFor=\"let img of popularTvImagesArray; index as i\">\n           <a routerLink=\"/watch/tv/{{ popularTvIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ popularTvNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n     </div>\n   </div>\n\n   <div class=\"row\" id=\"topRated_tv_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n     <div class=\"col-sm-12 col-xs-12\">\n       <h2>Top Rated TV Shows</h2>\n       <div id=\"topRated_tv\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let array of topRatedTvImagesMatrix; index as i\">\n             <div id=\"topRated_tv_poster\" class=\"row_poster\" *ngFor=\"let img of array; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/tv/{{ topRatedTvIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\">\n                 </a>\n                 <div id=\"topRated_tv_title\" class=\"titles\">\n                   <p>{{topRatedTvNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n   </div>\n   <div class=\"row\" id=\"topRated_tv_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Top Rated Tv Shows</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n         <ng-template ngbSlide *ngFor=\"let img of topRatedTvImagesArray; index as i\">\n           <a routerLink=\"/watch/tv/{{ topRatedTvIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ topRatedTvNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n\n     </div>\n   </div>\n\n   <div class=\"row\" id=\"trending_tv_web\" *ngIf=\"!isMobile\" style=\"min-width: 1440px;\">\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n     <div class=\"col-sm-12 col-xs-12\">\n       <h2>Trending TV Shows</h2>\n       <div id=\"tending_tv\" class=\"rows\">\n         <ngb-carousel #carousel [pauseOnHover]=\"pauseOnHover\" [pauseOnFocus]=\"pauseOnFocus\" interval=\"0\">\n           <ng-template ngbSlide *ngFor=\"let array of trendingTvImagesMatrix; index as i\">\n             <div id=\"tending_poster\" class=\"row_poster\" *ngFor=\"let img of array; index as j\">\n               <div class=\"picsum-img-wrapper\">\n                 <a routerLink=\"/watch/tv/{{ trendingTvIdMatrix[i][j] }}\">\n                   <img [src]=\"img\" alt=\"\">\n                 </a>\n                 <div id=\"tending_tv_title\" class=\"titles\">\n                   <p>{{trendingTvNameMatrix[i][j]}}</p>\n                 </div>\n               </div>\n\n             </div>\n           </ng-template>\n         </ngb-carousel>\n       </div>\n     </div>\n<!--     <div class=\"col-sm-1 col-xs-1\"></div>-->\n   </div>\n   <div class=\"row\" id=\"trending_tv_mobile\" *ngIf=\"isMobile\">\n     <div class=\"mobile_row\">\n       <h2>Trending Tv Shows</h2>\n       <ngb-carousel interval=\"0\" [showNavigationIndicators] = \"showNavigationIndicators\">>\n         <ng-template ngbSlide *ngFor=\"let img of trendingTvImagesArray; index as i\">\n           <a routerLink=\"/watch/tv/{{ trendingTvIdArray[i] }}\">\n             <div class=\"picsum-img-wrapper_mobile\">\n               <img [src]=\"img\" alt=\"Random first slide\">\n               <div class=\"carousel-caption\">\n                 <p>{{ trendingTvNameArray[i] }}</p>\n               </div>\n             </div>\n\n           </a>\n         </ng-template>\n       </ngb-carousel>\n     </div>\n   </div>\n\n\n<!--</div>-->\n\n</body>\n<script src=\"https://www.youtube.com/iframe_api\"></script>\n\n<!-- </div>-->\n\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport {of, pipe} from \"rxjs\";\nimport {catchError, debounceTime, distinctUntilChanged, map, tap, switchMap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SearchService {\n\n  constructor(private http: HttpClient) { }\n\n  // getSearchResultService(inputString: string) {\n  //   const httpParams = new HttpParams({\n  //     fromObject: {\n  //       queryString: inputString\n  //     }\n  //   })\n  //   return this.http.get('http://localhost:3000/getSearchResult', {params: httpParams});\n  // }\n\n\n  searchResultService(term: any) {\n    // const WIKI_URL = 'https://api.themoviedb.org/3/search/multi?api_key=090db10f0beb02147e9be8f250d5653e&language=en-US&query=tom';\n    const expressUrl = 'https://cs571hw8wenhaoge.wl.r.appspot.com/getSearchResult';\n    const PARAMS = new HttpParams({\n      fromObject: {\n        inputString : term\n      }\n    });\n\n    return this.http.get<any[]>(expressUrl, {params: PARAMS});\n    // return this.http.get(expressUrl, {params: PARAMS}).pipe(map(response => {\n    //   if(response[\"results\"][0][\"media_type\"] == 'movie' || response[\"results\"][0][\"media_type\"] == 'tv' ) {\n    //     return response[\"results\"];\n    //   }\n    // }));\n    // return resultArray;\n    // var resultArray = [];\n    //\n    // this.http.get(expressUrl, {params: PARAMS}).subscribe((response) => {\n    //   var count = 0;\n    //   var index = 0;\n    //   var responseArray = response[\"results\"];\n    //   while (count < 7 || index < responseArray) {\n    //     if (responseArray[index][\"media_type\"] == \"movie\" || responseArray[index][\"media_type\"] == \"tv\") {\n    //       count++;\n    //       resultArray.push({\"response\" : responseArray[index]});\n    //     }\n    //     index++;\n    //   }\n    //\n    // });\n    // console.log(resultArray);\n    // return resultArray;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DetailpageService {\n\n  constructor(private http: HttpClient) { }\n\n  getMovieVideoService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        movieId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getMovieVideo', {params: httpParams});\n  }\n\n  getMovieDetailService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        movieId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getMovieDetail', {params: httpParams});\n  }\n\n  getMovieCastService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        castId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getMovieCast', {params: httpParams});\n  }\n\n  getMovieReviewsService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        movieId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getMovieReviews', {params: httpParams});\n  }\n\n  getRecommendedMovieService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        movieId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getRecommendedMovie', {params: httpParams});\n  }\n\n  getSimilarMovieService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        movieId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getSimilarMovie', {params: httpParams});\n  }\n\n\n  // ========================common============  //\n  getCastDetailService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        castId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getCastDetail', {params: httpParams});\n  }\n\n  getCastExternalIdService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        castId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getCastExternalId', {params: httpParams});\n  }\n  // ========================common============  //\n\n\n\n\n\n  getTvVideoService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        tvId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getTvVideo', {params: httpParams});\n  }\n\n  getTvDetailService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        tvId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getTvDetail', {params: httpParams});\n  }\n  getTvCastService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        castId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getTvCast', {params: httpParams});\n  }\n\n  getTvReviewsService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        tvId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getTvReviews', {params: httpParams});\n  }\n\n  getRecommendedTvService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        tvId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getRecommendedTv', {params: httpParams});\n  }\n\n  getSimilarTvService(id) {\n    const httpParams = new HttpParams({\n      fromObject: {\n        tvId: id\n      }\n    })\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getSimilarTv', {params: httpParams});\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomepageComponent } from './components/homepage/homepage.component';\nimport { MylistComponent } from './components/mylist/mylist.component';\nimport { MovieDetailComponent } from './components/movie-detail/movie-detail.component';\nimport { TvDetailComponent } from './components/tv-detail/tv-detail.component';\n\nconst routes: Routes = [\n  { path: '', component: HomepageComponent },\n  { path: 'watch/movie/:id', component: MovieDetailComponent },\n  { path: 'watch/tv/:id', component: TvDetailComponent},\n  { path: 'mylist', component: MylistComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MyliststorageService {\n\n  constructor() { }\n\n\n\n  set(key:any, value:any) {\n    const keyString = JSON.stringify(key);\n    const valueString = JSON.stringify(value);\n\n    // modify storage\n    localStorage.setItem(keyString, valueString);\n\n  }\n\n  remove(key:any){\n    const keyString = JSON.stringify(key);\n    localStorage.removeItem(keyString);\n    // remove from mylist\n    // delete this.myList[keyString];\n  }\n\n  containsKey(key: any): any {\n    const keyString = JSON.stringify(key);\n    if (localStorage.getItem(keyString) === null) {\n      console.log(\"不存在\");\n      return false;\n    } else {\n      console.log(\"存在\");\n      return true;\n    }\n  }\n  print() {\n    // console.log(localStorage);\n    // console.log(localStorage.length);\n  }\n\n}\n\n\n// export function makeLinkedList(limit: any): ILRUCache {\n//   return new (<any>LRUCache)(limit);\n// }\n//\n// export interface ILRUCache {\n//   put: (key: string) => void;\n//   get: (key: string, Entry: boolean) => any;\n// }\n//\n// function LRUCache(limit: number) {\n//   this.size = 0;\n//   this.limit = limit;\n//   this._keymap = {};\n//\n// }\n//\n// interface ListNode {\n//   prev?: ListNode;\n//   next?: ListNode;\n//   key: string;\n// }\n//\n// LRUCache.prototype.put = function (key: string) {\n//   var curNode: ListNode = { key: key };\n//\n//   this._keymap[key] = curNode;\n//   if (this.size == 0) {\n//     this.head.next = curNode;\n//     curNode.prev = this.head;\n//     curNode.next = this.tail;\n//     this.tail.prev = curNode;\n//     this.size++;\n//   } else if (this.size == this.limit) {\n//     var third = this.head.next.next;\n//     this.head.next = third;\n//     third.prev = this.head;\n//   } else {\n//     var lastTwo = this.tail.prev;\n//     lastTwo.next = curNode;\n//     curNode.prev = lastTwo;\n//     curNode.next = this.tail;\n//     this.tail.perv = curNode;\n//   }\n// };\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HomepageService {\n\n  constructor(private http: HttpClient) { }\n\n  getPlayingMovieService(){\n    // http calls here\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getPlayingMovie');\n  }\n  getPopularMovieService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getPopularMovie');\n  }\n  getTopRatedMovieService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/topRatedMovie');\n  }\n  getTrendingMovieService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/trendingMovie');\n  }\n  getPopularTvService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/getPopularTv');\n  }\n  getTopRatedTvService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/topRatedTv');\n  }\n  getTrendingTvService() {\n    return this.http.get('https://cs571hw8wenhaoge.wl.r.appspot.com/trendingTv');\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}